!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(()=>(()=>{"use strict";var e={1947:(e,t,r)=>{r.d(t,{o:()=>i});const n=JSON.parse('{"versions":{"all":"0.0.1","medallion":"0.0.1"},"env":{"name":"PROD"},"apiServer":{"falconBaseUrl":"https://rewards.bing.com","snrBaseUrl":"https://bing.com"}}');class i{}i.settings=n},4623:(e,t,r)=>{var n;r.d(t,{I6:()=>s,Z3:()=>o,bc:()=>a,pQ:()=>n,zL:()=>i}),r(2953),function(e){e.Medallion="medallion",e.MedallionBalance="medallion-balance",e.MedallionMedalCircled="medallion-medal-circled",e.MedallionMedalCircledAnimated="medallion-medal-circled-animated",e.MedallionMedalDailyCheckInProgress="medallion-medal-dailycheckin-progress",e.MedallionMedalDailyCheckInCompleted="medallion-medal-dailycheckin-completed",e.MedallionMedalGoalTracking="medallion-medal-goal-tracking",e.MedallionMedalPathFill="medallion-medal-path-fill",e.MedallionMedalPathOutline="medallion-medal-path-outline",e.MedallionMedalPathSlim="medallion-medal-path-slim",e.MedallionMedalMsn="medallion-medal-msn",e.MedallionRedDot="medallion-red-dot",e.Flyout="flyout",e.AutoFlyout="auto-flyout"}(n||(n={}));const i={};var a;!function(e){e.Medallion="medallion"}(a||(a={}));const o={[a.Medallion]:()=>Promise.resolve().then(r.bind(r,8010)).then((e=>e.MedallionLoader.loadDependencies())).catch((e=>console.error("Failed to load dependencies:",e)))},s={[a.Medallion]:{name:a.Medallion,template:n.Medallion}}},9054:(e,t,r)=>{r.d(t,{H:()=>a}),r(7495),r(2953),r(8408);var n,i=r(1947);r(4423),function(e){e.IsBingHost=function(e){var t;return void 0===e&&(e=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname),(e=null!=e?e:"").includes("bing")}}(n||(n={}));class a{static get paramsToPropagate(){return["atlahostname","rewardsbag","uncrunched"]}static get paramsKeyMap(){return{rewardsbag:"bag"}}static get FalconBaseUrl(){return void 0===i.o.settings?"":i.o.settings.apiServer.falconBaseUrl}static get SnrBaseUrl(){return void 0===i.o.settings||n.IsBingHost()?"":i.o.settings.apiServer.snrBaseUrl}static get SnrRewards(){return this.SnrBaseUrl+"/rewards"}static get FalconWidget(){return this.FalconBaseUrl+"/widget"}static AutoFlyout(e){var t;const r=this.SnrBaseUrl+"/rewardsapp/flyout",n=e?"1":"0",i=new Date,a=i.getDate().toString().padStart(2,"0"),o=(i.getMonth()+1).toString().padStart(2,"0")+"/"+a+"/"+i.getFullYear().toString(),s=new URLSearchParams({channel:"2",partnerId:"AutoOpenFlyout",date:o,isDarkMode:n});for(const e of this.paramsToPropagate){const r=new URLSearchParams(window.location.search).get(e);null!==r&&s.append(null!==(t=this.paramsKeyMap[e])&&void 0!==t?t:e,r)}return r+"?"+s.toString()}static Flyout(e,t){return this.SnrRewards+"/panelflyout/engagement?"+new URLSearchParams({channel:"bingflyout",partnerId:e,isDarkMode:t?"1":"0",ru:encodeURIComponent(window.location.href)}).toString()}static get WidgetData(){return this.FalconWidget+"/data-content"}static get ReportActivity(){return this.FalconWidget+"/reportactivity"}static get Telemetry(){return this.FalconWidget+"/telemetry"}}},2878:(e,t,r)=>{var n,i;r.d(t,{A:()=>i,c:()=>n}),function(e){let t;e.Id="rewards-widget",function(e){e.DataUserId="data-uid",e.DataTimezone="data-timezone",e.DataPartnerId="data-pid",e.DataDarkMode="data-dark-mode",e.DataReportActivity="data-report-activity",e.DataLocale="data-locale",e.DataIdSelectors="data-id-selectors"}(t=e.Attributes||(e.Attributes={}))}(n||(n={})),function(e){let t,r;!function(e){e.DataRewardsWidget="data-rewards-widget",e.DataContent="data-content",e.DataTheme="data-theme"}(t=e.Attributes||(e.Attributes={})),function(e){e.Dark="rw-dark",e.PopupAnimation="rw-popup"}(r=e.Classes||(e.Classes={}))}(i||(i={}))},1605:(e,t,r)=>{var n;r.d(t,{n:()=>n}),function(e){e.UserAgent="undefined"!=typeof navigator?encodeURIComponent(navigator.userAgent):"__no_user_agent__",e.CurrentURL="undefined"!=typeof window?encodeURIComponent(window.location.href):"__unknown_url__",e.Timezone="undefined"!=typeof Intl&&Intl.DateTimeFormat&&Intl.DateTimeFormat().resolvedOptions&&Intl.DateTimeFormat().resolvedOptions().timeZone?Intl.DateTimeFormat().resolvedOptions().timeZone:"__unknown_timezone__",e.IsBefore2020="undefined"==typeof BigInt}(n||(n={}))},7429:(e,t,r)=>{var n;r.d(t,{H:()=>n}),function(e){e.WidgetShowCounter="WidgetShow",e.WidgetFetchDataCounter="WidgetFetchData",e.WidgetClickCounter="WidgetClick",e.WidgetFailureCounter="WidgetFailure"}(n||(n={}))},1189:(e,t,r)=>{var n,i;r.d(t,{N:()=>n,z:()=>i}),function(e){e.WidgetShowEvent="WidgetShow",e.WidgetFetchDataEvent="WidgetFetchData",e.ApiRequestEvent="ApiRequest"}(n||(n={})),function(e){e.WidgetClickEvent="WidgetClick",e.WidgetFailureEvent="WidgetFailure"}(i||(i={}))},3089:(e,t,r)=>{r.d(t,{T:()=>n});class n{constructor(e){this.services=e,this.instances={}}getSingleton(e){if(!(e in this.services))throw new Error("Service not found: "+e);return this.instances[e]||(this.instances[e]=this.buildService(e)),this.instances[e]}getServices(){return this.services}buildService(e){return new this.services[e](this.services)}}},9519:(e,t,r)=>{r.d(t,{D:()=>n,v:()=>o});var n,i=r(3089);!function(e){e.BingRewards="BingRewards",e.RewardsHub="RewardsHub",e.BingTravel="BingTravel",e.Default=e.BingRewards}(n||(n={}));class a{constructor(){this.widgets=[],this.partnerClientSettings={partnerId:n.Default,userId:"",locale:"en-US",timezoneUTC:0,widgetsIdSelectors:[],darkModeEnabled:!1,reportActivity:!0},this.locStrings={RewardsHeader_Rewards:"Rewards"},this.logMessages=[],this.counters=[],this.events=[]}}class o extends i.T{get partnerClientSettings(){return o.WidgetState.partnerClientSettings}get defaultPartnerClientSettings(){return o.DefaultState.partnerClientSettings}get widgets(){return o.WidgetState.widgets}get locStrings(){return o.WidgetState.locStrings}get reportActivity(){return o.WidgetState.reportActivity}set reportActivity(e){o.WidgetState.reportActivity=e}get logMessages(){return o.WidgetState.logMessages}get events(){return o.WidgetState.events}get counters(){return o.WidgetState.counters}clearTelemetry(){o.WidgetState.logMessages=[],o.WidgetState.events=[],o.WidgetState.counters=[]}}o.WidgetState=new a,o.DefaultState=new a},9470:(e,t,r)=>{var n;r.d(t,{X:()=>n}),function(e){const t="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;function r(e){return e?t?Buffer.from(e,"base64").toString("utf-8"):window.atob(e):""}e.DecodeBase64Unicode=function(e){return decodeURIComponent(Array.prototype.map.call(r(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},e.DecodeBase64=r}(n||(n={}))},5638:(e,t,r)=>{var n;r.d(t,{N:()=>n}),function(e){const t="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;e.EncodeBase64=function(e){return e?t?Buffer.from(e).toString("base64"):window.btoa(e):e}}(n||(n={}))},6592:(e,t,r)=>{var n;r.d(t,{h:()=>n}),function(e){e.SerializeError=function(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))}}(n||(n={}))},1296:(e,t,r)=>{r.d(t,{$l:()=>o,VR:()=>s,vK:()=>a,yG:()=>i});var n=r(9519);const i=e=>null!=e&&null!=e&&!1!==e&&0!==e&&("string"==typeof e?"true"===e.toLowerCase()||"1"===e:Boolean(e)),a=e=>{if("string"!=typeof e)return"number"==typeof e?e:null;const t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null},o=e=>"string"==typeof e?e:null,s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"string"!=typeof e?n.D.Default:e in n.D?e:(null==t||t.warn("PartnerId "+e+" is not valid. Using default"),n.D.Default)}},4493:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(4623);class i{constructor(e,t,r,i,a,o,s,l,c,d,u,g,h,f,p){this.balance=e,this.previousBalance=t,this.goalTrackBalance=r,this.showAnimation=i,this.lastVisitTime=a,this.lastAutoOpenFlyoutTime=o,this.autoOpenFlyout=s,this.autoOpenFlyoutFlag=l,this.dailyCheckInProgress=c,this.animationAltText=d,this.isRewardsEntryPointEnabled=u,this.isRewardsEntryPointToggleEnabled=g,this.isDailyCheckInMedallionAnimationEnabled=h,this.animateHeader=f,this.isRewardsUser=p,this._dataContentMappings={[n.bc.Medallion]:()=>this.toMedallionData()}}toPartialClientUpdate(){return{[n.bc.Medallion]:this.toData(n.bc.Medallion)}}toData(e){return this._dataContentMappings[e]()}toMedallionData(){var e;return{content:{balance:this.balance,isRewardsUser:this.isRewardsUser,autoOpenFlyout:this.autoOpenFlyout,showRedDot:this.showAnimation,dailyCheckInProgress:null!==(e=this.dailyCheckInProgress)&&void 0!==e?e:0,dailyCheckInProgressAnimationEnabled:this.isDailyCheckInMedallionAnimationEnabled,previousBalance:this.previousBalance,gainingPointsAnimationEnabled:this.animateHeader,goalTrackBalance:this.goalTrackBalance}}}static create(e){return new i(e.balance,e.previousBalance,e.goalTrackBalance,e.showAnimation,e.lastVisitTime,e.lastAutoOpenFlyoutTime,e.autoOpenFlyout,e.autoOpenFlyoutFlag,e.dailyCheckInProgress,e.animationAltText,e.isRewardsEntryPointEnabled,e.isRewardsEntryPointToggleEnabled,e.isDailyCheckInMedallionAnimationEnabled,e.animateHeader,e.isRewardsUser)}}},8010:(e,t,r)=>{r.r(t),r.d(t,{MedallionLoader:()=>L});var n=r(4623),i=r(5638),a=r(8781),o=r(9054);class s{constructor(){this._rendererData={client:void 0,data:void 0,config:void 0,locStrings:void 0}}withClientSettings(e){return this._rendererData.client=e,this}withConfig(e){return this._rendererData.config=e,this}withData(e){return this._rendererData.data=e,this}withLocStrings(e){return this._rendererData.locStrings=e,this}build(){return this._rendererData}}r(4423);var l,c,d,u,g,h,f,p=r(2878),v=r(1605),m=r(1296);!function(e){e.Resize="resize",e.Refresh="refresh",e.Close="close"}(l||(l={})),function(e){e.RegisterActions=function(e,t){var r;e&&!v.n.IsBefore2020&&(null===(r=e.defaultView)||void 0===r||r.addEventListener("message",(e=>{const r=e.data;if(!r||!Object.values(l).includes(r.action))return;const n=r.action,i={[l.Resize]:()=>function(e,t){var r,n,i;if(!e.iframeContainer)return;const a=(0,m.vK)(t.bodyHeight),o=(0,m.vK)(t.bodyWidth),s=e.iframeElement;if(!s)return;const l=Math.min(a||(null!==(i=null===(n=null===(r=s.contentDocument)||void 0===r?void 0:r.body)||void 0===n?void 0:n.scrollHeight)&&void 0!==i?i:700),700);s.height=l.toString()+"px",e.iframeContainer.style.height=l.toString()+"px";const c=o?Math.min(o,320):320;s.style.width=c.toString()+"px",e.iframeContainer.style.width=c.toString()+"px",e.iframeContainer.classList.add(p.A.Classes.PopupAnimation),e.iframeContainer.style.removeProperty("visibility")}(t,r),[l.Refresh]:()=>function(e){const t=e.iframeElement;if(!t)return;const r=t.getAttribute("src");t.setAttribute("src","about:blank"),t.setAttribute("src",null!=r?r:"")}(t),[l.Close]:()=>t.closeAutoFlyout()};i[n]()})))}}(c||(c={}));class y{constructor(e,t,r){this._widgetContainer=e,this._stateProvider=t,this._renderer=r,this._iframeContainer=null,c.RegisterActions(e.ownerDocument,this)}get iframeContainer(){return this._iframeContainer}get iframeElement(){var e,t;return null!==(t=null===(e=this._iframeContainer)||void 0===e?void 0:e.querySelector("iframe"))&&void 0!==t?t:null}openAutoFlyout(){var e,t;const r=null!==(e=this._widgetContainer.ownerDocument)&&void 0!==e?e:null;if(r)return this._iframeContainer?void this._iframeContainer.style.removeProperty("visibility"):(this._iframeContainer=this.buildContainerElement(r),void(null===(t=this._widgetContainer.parentElement)||void 0===t||t.append(this._iframeContainer)))}closeAutoFlyout(){this._iframeContainer&&(this._iframeContainer.remove(),this._iframeContainer=null)}buildContainerElement(e){const t=this._stateProvider.partnerClientSettings.darkModeEnabled,r=(new s).withConfig({autoFlyoutHeight:"600",autoFlyoutWidth:"400",autoFlyoutUrl:o.H.AutoFlyout(t)}).build(),i=e.createElement("div");return i.innerHTML=this._renderer.render(n.pQ.AutoFlyout,r).html,i.firstElementChild}}!function(e){e.Medallion="medallion",e.MedallionPointsContainer=".points-container",e.MedallionLink=":scope > a",e.MedallionRedDot=".red-dot"}(d||(d={})),function(e){e.CloseFlyout="closeFlyout",e.Refresh="refresh",e.RedDotControl="redDotControl",e.UpdatePoints="updatePoints"}(u||(u={})),function(e){e.RegisterActions=function(e,t){v.n.IsBefore2020||window.addEventListener("message",(r=>{const i=r.data;if(!i||!Object.values(u).includes(i.action))return;const a=i.action,o={[u.CloseFlyout]:()=>e.closeFlyout(),[u.Refresh]:()=>function(e){e.iframeElement&&(e.iframeElement.setAttribute("src","about:blank"),e.iframeElement.setAttribute("src",e.iframeUrl))}(e),[u.RedDotControl]:()=>function(){const e=document.querySelectorAll(d.MedallionRedDot);for(let t=0;t<e.length;t++)e[t].style.display="none"}(),[u.UpdatePoints]:()=>function(e,t){const r={[n.bc.Medallion]:e=>({content:{balance:e}})};for(let n=0;n<t.length;n++){const i=t[n];i.update(r[i.Name](e),!1)}const i=document.querySelectorAll(d.MedallionPointsContainer);for(let t=0;t<i.length;t++){const r=i[t];r&&(r.classList.remove("balance-animation"),r.innerHTML=e.toString())}}(i.newBal,t)};o[a]()}))}}(g||(g={})),function(e){e.ContainerId="rewid-f"}(h||(h={}));class w{constructor(e,t,r){this._widgetContainer=e,this._stateProvider=t,this._renderer=r,this._iframeContainer=null,g.RegisterActions(this,this._stateProvider.widgets)}get iframeContainer(){return this._iframeContainer}get iframeElement(){var e,t;return null!==(t=null===(e=this._iframeContainer)||void 0===e?void 0:e.querySelector("iframe"))&&void 0!==t?t:null}get iframeUrl(){return o.H.Flyout(this._stateProvider.partnerClientSettings.partnerId,this._stateProvider.partnerClientSettings.darkModeEnabled)}toggleFlyout(){this._iframeContainer&&"none"!==this._iframeContainer.style.display?this.closeFlyout():this.openFlyout()}openFlyout(){var e,t;const r=null!==(e=this._widgetContainer.ownerDocument)&&void 0!==e?e:null;r&&(this._iframeContainer||(this._iframeContainer=this.buildContainerElement(r),null===(t=this._widgetContainer.parentElement)||void 0===t||t.append(this._iframeContainer)),this._iframeContainer.style.removeProperty("display"))}closeFlyout(){this._iframeContainer&&(this._iframeContainer.style.display="none")}buildContainerElement(e){const t=e.getElementById(h.ContainerId);t&&t.remove();const r=(new s).withConfig({flyoutUrl:this.iframeUrl}).build(),i=e.createElement("div");return i.innerHTML=this._renderer.render(n.pQ.Flyout,r).html,i.firstElementChild}}!function(e){e.MSN="msn",e.Default="default"}(f||(f={}));var b=r(7429),S=r(1189),_=r(4493),A=(r(7495),r(5440),r(3089)),C=r(9470);function x(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if("object"!=typeof e||null===e)return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){t=[],r.set(e,t);for(const n of e)t.push(x(n,r))}else{t={},r.set(e,t);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=x(e[n],r))}return t}r(2953);var E=r(6592);class P extends A.T{constructor(e,t){super(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this._widgetSetup=e,this._widgetContainer=t,this._renderer=this.getSingleton("Renderer"),this._stateProvider=this.getSingleton("StateProvider"),this._logger=this.getSingleton("Logger"),this._eventLogger=this.getSingleton("EventLogger"),this._counterLogger=this.getSingleton("CounterLogger"),this._configMerger=this.getSingleton("ConfigMerger"),this.Name=e.name}init(){return this.loadDataAttributes(),this.build()}get data(){return this._data||(this._data=x(this._defaultData)),this._data}get config(){return this._config||(this._config=x(this._defaultConfig)),this._config}update(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this._configMerger.mergeWidgetData(this.data,e,this._defaultData);return t&&r?(this._config=x(this._defaultConfig),this.build()):{success:!0,variablesMissingInData:[],variablesMissingInTemplate:[],widget:this}}render(){const e=(new s).withClientSettings(this._stateProvider.partnerClientSettings).withData(this.data).withConfig(this.config).withLocStrings(this._stateProvider.locStrings).build(),t=this._renderer.render(this._widgetSetup.template,e);this._widgetContainer.innerHTML=t.html;const r=t.missingVariables.map((e=>e.replace(/.*\.data\./,""))),n=[];return{success:!this.hasMissingData(this.data,"",r,n),variablesMissingInData:n,variablesMissingInTemplate:t.missingVariables,widget:this}}loadDataAttributes(){const e=this._widgetContainer.getAttribute(p.A.Attributes.DataContent);if(e)try{const t=JSON.parse(C.X.DecodeBase64Unicode(e));this.data.content=Object.assign(Object.assign({},this.data.content),t)}catch(e){this._logger.warn("Error parsing data-content JSON: "+E.h.SerializeError(e))}const t=this._widgetContainer.getAttribute(p.A.Attributes.DataTheme);t&&t in Object.values(f)&&(this.data.theme=t)}build(){this.initData();const e=this.render();return this.initActions(),this.toggleDarkMode(),e}toggleDarkMode(){this._widgetContainer.classList.toggle(p.A.Classes.Dark,this._stateProvider.partnerClientSettings.darkModeEnabled)}hasMissingData(e,t,r,n){for(const i in e){const a=t?t+"."+i:i;if(void 0===e[i]&&(this.getSingleton("StateProvider").partnerClientSettings.userId||r.includes(a)))return this._logger.log("Missing variable at path: "+a),n.push(a),!0;if(void 0!==e[i]&&"object"==typeof e[i]&&null!==e[i])return this.hasMissingData(e[i],a,r,n)}return!1}hasMissingVariablesInData(e){return this.hasMissingData(this.data,"",e.variablesMissingInTemplate,[])}}const I="dcip";class k{constructor(e,t){this._localStore=e,this._defaultProgress=t}applyDailyCheckInConfig(e,t){const r=this.updatePreviousProgress(e);return!!this.shouldTriggerDailyCheckIn(e,r)&&(t.medalTemplate=this.getTemplateForDailyCheckIn(e.dailyCheckInProgress),!0)}updatePreviousProgress(e){const t=this._localStore.getItem(I,m.vK);return e.dailyCheckInProgress!==this._defaultProgress&&this._localStore.setItem(I,e.dailyCheckInProgress),null!=t?t:this._defaultProgress}getTemplateForDailyCheckIn(e){return e>=3?n.pQ.MedallionMedalDailyCheckInCompleted:n.pQ.MedallionMedalDailyCheckInProgress}shouldTriggerDailyCheckIn(e,t){return!(!e.dailyCheckInProgressAnimationEnabled||"number"!=typeof e.dailyCheckInProgress)&&t!==e.dailyCheckInProgress&&e.dailyCheckInProgress>0}}class R{constructor(e){this._stateProvider=e}applyGainingPointsConfig(e,t){this.shouldTriggerBasedOnReportActivity?this.applyFromReportActivity(t):this.applyFromMedallionData(e,t)}applyFromReportActivity(e){var t,r,n,i;if(!(null===(t=this._stateProvider.reportActivity)||void 0===t?void 0:t.animateHeader))return;if(void 0===(null===(r=this._stateProvider.reportActivity)||void 0===r?void 0:r.balance))return;const a=null!==(n=this._stateProvider.reportActivity.previousBalance)&&void 0!==n?n:0,o=null!==(i=this._stateProvider.reportActivity.balance)&&void 0!==i?i:0;a>=o||a<0||this.applyGainingPointsAnimation(a,o,e)}applyFromMedallionData(e,t){var r,n;if(!e.gainingPointsAnimationEnabled)return;if(e.gainingPointsAnimationEnabled&&void 0===e.balance)return void(e.gainingPointsAnimationEnabled=!1);const i=null!==(r=e.previousBalance)&&void 0!==r?r:0,a=null!==(n=e.balance)&&void 0!==n?n:0;i>=a||i<0?e.gainingPointsAnimationEnabled=!1:this.applyGainingPointsAnimation(i,a,t)}applyGainingPointsAnimation(e,t,r){document.documentElement.style.setProperty("--rw-gp-balance-from",e.toString()),document.documentElement.style.setProperty("--rw-gp-balance-to",t.toString()),r.medalTemplate=n.pQ.MedallionMedalCircledAnimated}get shouldTriggerBasedOnReportActivity(){const e=this._stateProvider.partnerClientSettings.reportActivity,t=!!this._stateProvider.reportActivity;return e&&t}}class D{constructor(){this._circleCircumference=88}applyGoalTrackingConfig(e,t){if(!e.goalTrackEnabled||!e.goalTrackBalance)return;const r=e.goalTrackBalance,i=e.balance||0;if(i<0||r<=i)return;const a=i/r;e.goalTrackBalance=this._circleCircumference-a*this._circleCircumference,t.medalTemplate=n.pQ.MedallionMedalGoalTracking}}var T,M,L,O=r(9519);class F{constructor(e){this._stateProvider=e}applyPartnerSpecificConfig(e){if(!this._stateProvider.reportActivity)return;const t=this._stateProvider.partnerClientSettings.partnerId,r=this._stateProvider.reportActivity;t!==O.D.BingRewards&&t!==O.D.RewardsHub||(e.medalPathTemplate=r.isRewardsUser?n.pQ.MedallionMedalPathFill:n.pQ.MedallionMedalPathOutline)}}class N{applySimplificationForOldBrowsers(e,t,r){e.medalTemplate=n.pQ.MedallionMedalCircled,e.medalPathTemplate=n.pQ.MedallionMedalPathOutline,e.balanceTemplate=n.pQ.MedallionBalance,e.redDotTemplate=n.pQ.MedallionRedDot,e.linkUrl="https://rewards.bing.com",e.slim=!1;const i=t.content.balance;t.content=Object.assign({},r.content),t.content.balance=i}}r(3296),r(7208),r(8408),function(e){e.AutoOpenQueryParameter="rwgbopen"}(T||(T={})),function(e){e.addToggleFlyoutListener=function(e,t,r,n){const i=e.querySelector(d.MedallionLink);i&&i.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),r.closeAutoFlyout(),t.toggleFlyout(),n()}))},e.addNonFlyoutClickListeners=function(e,t,r){e.ownerDocument.addEventListener("click",(n=>function(e,t,r,n){const i=t.querySelector(d.MedallionLink);i&&i.contains(e.target)||(r.iframeContainer&&!r.iframeContainer.contains(e.target)&&r.closeFlyout(),n.iframeContainer&&!n.iframeContainer.contains(e.target)&&n.closeAutoFlyout())}(n,e,t,r))),e.ownerDocument.addEventListener("keydown",(e=>function(e,t,r){"Escape"===e.key&&(t.closeFlyout(),r.closeAutoFlyout())}(e,t,r)))},e.triggerOpenFlyout=function(e,t){const r=new URL(e.ownerDocument.location.href);(0,m.yG)(r.searchParams.get(T.AutoOpenQueryParameter))&&t.openFlyout()},e.triggerOpenAutoFlyout=function(e,t){e&&t.openAutoFlyout()}}(M||(M={}));class B extends P{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this._widgetSetup=e,this._widgetContainer=t,this._defaultConfig={linkUrl:"javascript:void(0);",slim:!1,medalPathTemplate:n.pQ.MedallionMedalPathOutline,medalTemplate:n.pQ.MedallionMedalCircled,balanceTemplate:n.pQ.MedallionBalance,redDotTemplate:n.pQ.MedallionRedDot},this._defaultData={content:{balance:void 0,isRewardsUser:!1,autoOpenFlyout:!1,showRedDot:!1,dailyCheckInProgress:-1,dailyCheckInProgressAnimationEnabled:!1,gainingPointsAnimationEnabled:!1,previousBalance:0,goalTrackEnabled:!0,goalTrackBalance:0},theme:f.Default},this.listenersBound=!1,this._simplificationForOldBrowsers=new N,this._falconService=this.getSingleton("FalconService"),this._localStore=this.getSingleton("LocalStore"),this.afterMedallionClick=()=>{this._eventLogger.logInfoEvent(S.z.WidgetClickEvent,n.bc.Medallion,"Medallion Click"),this._counterLogger.logCounter(b.H.WidgetClickCounter,n.bc.Medallion),this._falconService.sendTelemetry()},this._flyout=new w(t,this._stateProvider,this._renderer),this._autoFlyout=new y(t,this._stateProvider,this._renderer),this._dailyCheckIn=new k(this._localStore,this._defaultData.content.dailyCheckInProgress),this._gainingPoints=new R(this._stateProvider),this._partnerSpecificSetup=new F(this._stateProvider),this._goalTracking=new D}initActions(){v.n.IsBefore2020||(M.addToggleFlyoutListener(this._widgetContainer,this._flyout,this._autoFlyout,this.afterMedallionClick),this.listenersBound||(M.addNonFlyoutClickListeners(this._widgetContainer,this._flyout,this._autoFlyout),this.listenersBound=!0),M.triggerOpenFlyout(this._widgetContainer,this._flyout),M.triggerOpenAutoFlyout(!!this.data.content.autoOpenFlyout,this._autoFlyout))}initData(){if(v.n.IsBefore2020)this._simplificationForOldBrowsers.applySimplificationForOldBrowsers(this.config,this.data,this._defaultData);else{if(this._stateProvider.reportActivity){const e=_.e.create(this._stateProvider.reportActivity);this.update(e.toData(n.bc.Medallion),!1)}this._goalTracking.applyGoalTrackingConfig(this.data.content,this.config),this._partnerSpecificSetup.applyPartnerSpecificConfig(this.config),this._gainingPoints.applyGainingPointsConfig(this.data.content,this.config),this._dailyCheckIn.applyDailyCheckInConfig(this.data.content,this.config)}}}!function(e){e.loadDependencies=()=>{(()=>{const e=r(4991),t=r(1523),a=r(2226),o=r(3022),s=r(7736),l=r(678),c=r(1829),d=r(3880),u=r(7004),g=r(1239),h=r(1152),f=r(6432),p=r(6657),v=r(9853);n.zL[n.pQ.AutoFlyout]=i.N.EncodeBase64(e.default),n.zL[n.pQ.Flyout]=i.N.EncodeBase64(t.default),n.zL[n.pQ.MedallionMedalCircledAnimated]=i.N.EncodeBase64(a.default),n.zL[n.pQ.MedallionMedalCircled]=i.N.EncodeBase64(o.default),n.zL[n.pQ.MedallionMedalDailyCheckInCompleted]=i.N.EncodeBase64(s.default),n.zL[n.pQ.MedallionMedalDailyCheckInProgress]=i.N.EncodeBase64(l.default),n.zL[n.pQ.MedallionMedalGoalTracking]=i.N.EncodeBase64(c.default),n.zL[n.pQ.MedallionMedalMsn]=i.N.EncodeBase64(d.default),n.zL[n.pQ.MedallionMedalPathFill]=i.N.EncodeBase64(u.default),n.zL[n.pQ.MedallionMedalPathOutline]=i.N.EncodeBase64(g.default),n.zL[n.pQ.MedallionMedalPathSlim]=i.N.EncodeBase64(h.default),n.zL[n.pQ.MedallionBalance]=i.N.EncodeBase64(f.default),n.zL[n.pQ.MedallionRedDot]=i.N.EncodeBase64(p.default),n.zL[n.pQ.Medallion]=i.N.EncodeBase64(v.default)})(),r(1892),r(6595),r(3887),a.n.factory[n.bc.Medallion]=B}}(L||(L={}))},8781:(e,t,r)=>{r.d(t,{n:()=>n});var n,i=r(4623);!function(e){e.factory={},e.create=(t,r,n)=>{const a=i.I6[t],o=e.factory[t];if(!o)throw new Error("Widget: "+t+" is not registered in this bundle.");return new o(a,r,n)}}(n||(n={}))},760:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([e.id,"#rewid-af {\n  position: absolute;\n  z-index: 10;\n  top: 50px;\n  right: 0;\n  font-size: 0;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 2px 4px 1px rgba(0, 0, 0, 0.18);\n  border-radius: 5px;\n}\n\n#rewid-af:dir(rtl) {\n  right: auto;\n  left: 0;\n}\n\n#rewid-af iframe {\n  border-radius: 5px;\n}\n",""]);const s=o},2670:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([e.id,"#rewid-f {\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 376px;\n  height: 100vh;\n  z-index: 1100;\n  box-shadow: 0 0 0 1px #0000000d, 0 0 0 2px #0000001a;\n}\n\n#rewid-f:dir(rtl) {\n  right: auto;\n  left: 0;\n}\n",""]);const s=o},6212:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([e.id,"div[data-rewards-widget='medallion'] .dailyCheckAnimationContainer {\n  height: 32px;\n  width: 32px;\n  display: flex;\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .meter {\n  stroke: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .dmeter {\n  stroke: var(--rw-color, #c5c5c5);\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .progress {\n  stroke: var(--rw-color, #00b7ab);\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .checkmark {\n  stroke: var(--rw-color, #00b7ab);\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .medal-circled {\n  fill: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .completedmeter {\n  stroke: var(--rw-color, #00b7ab);\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .overlapWithAbove {\n  position: absolute;\n  width: 32px;\n  height: 32px;\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .progressSvg {\n  position: absolute;\n  width: 32px;\n  height: 32px;\n}\n\ndiv[data-rewards-widget='medallion'] .dailyCheckAnimationContainer .overlapWithAbove2 {\n  position: absolute;\n  top: 9px;\n  left: 7px;\n  width: 18px;\n  height: 18px;\n}\n\ndiv[data-rewards-widget='medallion'] .parentContainer {\n  position: relative;\n  width: 32px;\n  height: 32px;\n}\n\ndiv[data-rewards-widget='medallion'] .firework,\n.firework::before,\n.firework::after {\n  position: absolute;\n  top: 16px;\n  left: 16px;\n  transform: translate(-50%, -50%);\n  width: 0vmin;\n  aspect-ratio: 1;\n  background: radial-gradient(circle, #7fdbff 0.4vmin, rgba(245, 245, 245, 0) 0 0) 50% 0%,\n    radial-gradient(circle, #39cccc 0.4vmin, rgba(245, 245, 245, 0) 0 0) 0% 50%,\n    radial-gradient(circle, #96e8de 0.5vmin, rgba(245, 245, 245, 0) 0 0) 50% 99%,\n    radial-gradient(circle, #00b7ab 0.4vmin, rgba(245, 245, 245, 0) 0 0) 99% 50%,\n    radial-gradient(circle, #39cccc 0.6vmin, rgba(245, 245, 245, 0) 0 0) 80% 90%,\n    radial-gradient(circle, #96e8de 0.5vmin, rgba(245, 245, 245, 0) 0 0) 95% 90%,\n    radial-gradient(circle, #39cccc 0.5vmin, rgba(245, 245, 245, 0) 0 0) 10% 60%,\n    radial-gradient(circle, #39cccc 0.4vmin, rgba(245, 245, 245, 0) 0 0) 31% 80%,\n    radial-gradient(circle, #00b7ab 0.3vmin, rgba(245, 245, 245, 0) 0 0) 80% 10%,\n    radial-gradient(circle, #96e8de 0.6vmin, rgba(245, 245, 245, 0) 0 0) 90% 23%,\n    radial-gradient(circle, #7fdbff 0.3vmin, rgba(245, 245, 245, 0) 0 0) 45% 20%,\n    radial-gradient(circle, #39cccc 0.5vmin, rgba(245, 245, 245, 0) 0 0) 15% 60%,\n    radial-gradient(circle, #39cccc 0.4vmin, rgba(245, 245, 245, 0) 0 0) 41% 80%,\n    radial-gradient(circle, #00b7ab 0.3vmin, rgba(245, 245, 245, 0) 0 0) 85% 20%,\n    radial-gradient(circle, #96e8de 0.6vmin, rgba(245, 245, 245, 0) 0 0) 95% 40%,\n    radial-gradient(circle, #7fdbff 0.3vmin, rgba(245, 245, 245, 0) 0 0) 45% 10%,\n    radial-gradient(circle, #00b7ab 0.3vmin, rgba(245, 245, 245, 0) 0 0) 84% 10%,\n    radial-gradient(circle, #96e8de 0.5vmin, rgba(245, 245, 245, 0) 0 0) 95% 23%,\n    radial-gradient(circle, #7fdbff 0.3vmin, rgba(245, 245, 245, 0) 0 0) 45% 23%,\n    radial-gradient(circle, #39cccc 0.5vmin, rgba(245, 245, 245, 0) 0 0) 15% 62%,\n    radial-gradient(circle, #39cccc 0.4vmin, rgba(245, 245, 245, 0) 0 0) 41% 55%,\n    radial-gradient(circle, #00b7ab 0.3vmin, rgba(245, 245, 245, 0) 0 0) 85% 27%,\n    radial-gradient(circle, #96e8de 0.6vmin, rgba(245, 245, 245, 0) 0 0) 95% 21%,\n    radial-gradient(circle, #7fdbff 0.3vmin, rgba(245, 245, 245, 0) 0 0) 45% 20%,\n    radial-gradient(circle, #7fdbff 0.5vmin, rgba(245, 245, 245, 0) 0 0) 13% 24%;\n  background-size: 1.5vmin 1.5vmin;\n  background-repeat: no-repeat;\n  animation-delay: 1s;\n  animation: firework 1s;\n}\n\n@keyframes firework {\n  0% {\n    width: 1.5vmin;\n    opacity: 20;\n  }\n\n  100% {\n    width: 12vmin;\n    opacity: 0;\n  }\n}\n",""]);const s=o},5141:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([e.id,":root {\n  --rw-gp-balance-from: 0;\n  --rw-gp-balance-to: 1000;\n}\n\ndiv[data-rewards-widget='medallion'] .gaining-points-animation {\n  width: inherit;\n  height: 32px;\n}\n\ndiv[data-rewards-widget='medallion'] .balance-animation {\n  animation: rw-gp-counter 2s cubic-bezier(0.075, 0.82, 0.165, 1);\n  animation-fill-mode: forwards;\n  counter-reset: num var(--rw-gp-balance, var(--rw-gp-balance-to));\n}\n\n.gaining-points-animation .circle-animation-container {\n  position: relative;\n}\n\n.gaining-points-animation .outer-circle-animation {\n  animation: rw-gp-expand-collapse 0.3s cubic-bezier(0.075, 0.82, 0.165, 1);\n  animation-delay: 1s;\n  height: 32px;\n  width: 32px;\n}\n\n.gaining-points-animation svg.outer-circle-animation circle {\n  stroke: var(--rw-color, var(--rw-medal-color));\n  fill: none;\n  stroke-width: 2;\n}\n\n.gaining-points-animation .medal-animation-container {\n  position: absolute;\n  top: 0px;\n  height: 32px;\n  width: 32px;\n}\n\n.gaining-points-animation .medal-svg-animation {\n  position: relative;\n  animation: rw-gp-expand-collapse 0.3s cubic-bezier(0.075, 0.82, 0.165, 1);\n  animation-delay: 1s;\n}\n\n.gaining-points-animation .outer-circle-animation circle {\n  fill: none;\n  stroke: var(--rw-color, var(--rw-medal-color));\n  stroke-width: 2;\n  stroke-dasharray: 100.53, 100.53;\n  stroke-dashoffset: 100.53;\n  animation: rw-gp-animate-circle 1s linear forwards;\n}\n\n.gaining-points-animation .medal-svg-animation {\n  position: relative;\n  animation: rw-gp-expand-collapse 0.3s cubic-bezier(0.075, 0.82, 0.165, 1);\n  animation-delay: 1s;\n  fill: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] .balance-animation::after {\n  content: counter(num);\n}\n\n@property --rw-gp-balance {\n  syntax: '<integer>';\n  initial-value: 0;\n  inherits: false;\n}\n\n@keyframes rw-gp-counter {\n  from {\n    --rw-gp-balance: var(--rw-gp-balance-from);\n  }\n  to {\n    --rw-gp-balance: var(--rw-gp-balance-to);\n  }\n}\n\n@keyframes rw-gp-animate-circle {\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes rw-gp-expand-collapse {\n  0% {\n    transform: scale(1);\n  }\n  70% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n",""]);const s=o},6291:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([e.id,"div[data-rewards-widget='medallion'] .goal-tracking-container {\n  width: 32px;\n  height: 32px;\n}\n\ndiv[data-rewards-widget='medallion'] .medal-goal-track-meter {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  transform: rotate(-90deg);\n}\n\ndiv[data-rewards-widget='medallion'] .medal-goal-track-meter circle {\n  stroke: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] .goal-track-medal-type {\n  width: 32px;\n  height: 32px;\n  fill: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] .goal-track-outer-circle {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  stroke: var(--rw-color, var(--rw-medal-color));\n  opacity: 0.4;\n}\n",""]);const s=o},2941:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a),s=r(6212),l=r(5141),c=r(6291),d=o()(i());d.i(s.A),d.i(l.A),d.i(c.A),d.push([e.id,"div[data-rewards-widget='medallion'].rw-dark {\n  --rw-medal-color: #a2b7f4;\n  --rw-font-color: #edebe9;\n}\n\ndiv[data-rewards-widget='medallion'] {\n  --rw-medal-color: #174ae4;\n  --rw-font-color: #333333;\n  --rw-red-dot-color: #c80000;\n  display: inline-block;\n}\n\ndiv[data-rewards-widget='medallion'] > a {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  height: 100%;\n  padding: 0 4px;\n}\n\ndiv[data-rewards-widget='medallion'] a > * {\n  padding: 0 4px;\n  display: flex;\n}\n\ndiv[data-rewards-widget='medallion'] .points-container {\n  font-family: var(--rw-font-family);\n  color: var(--rw-color, var(--rw-font-color));\n}\n\ndiv[data-rewards-widget='medallion'] .medal {\n  position: relative;\n}\n\ndiv[data-rewards-widget='medallion'] svg.medal-circled {\n  width: 32px;\n  height: 32px;\n  fill: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] svg.msn-medal {\n  width: 28px;\n  height: 28px;\n}\n\ndiv[data-rewards-widget='medallion'] svg.medal-circled circle {\n  stroke: var(--rw-color, var(--rw-medal-color));\n}\n\ndiv[data-rewards-widget='medallion'] .red-dot {\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--rw-red-dot-color);\n  top: -3px;\n  right: 1px;\n  position: absolute;\n}\n",""]);const u=d},5590:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1601),i=r.n(n),a=r(6314),o=r.n(a)()(i());o.push([e.id,".rw-popup {\n  transform: scale(0);\n  transform-origin: center top;\n  animation-name: ReWidPopup;\n  animation-duration: 200ms;\n  animation-delay: 200ms;\n  animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n  animation-fill-mode: forwards;\n}\n\n@keyframes ReWidPopup {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n",""]);const s=o},6314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&o[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},1601:e=>{e.exports=function(e){return e[1]}},4991:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<div id="rewid-af" style="visibility:hidden" data-tag="RewardsHeader.Flyout"> <iframe width="{{ config.autoFlyoutWidth }}" height="{{ config.autoFlyoutHeight }}" style="border:none" src="{{ config.autoFlyoutUrl }}" scrolling="no"> </iframe> </div> '},1523:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<div id="rewid-f" style="display:none" data-tag="RewardsHeader.Flyout"> <iframe width="100%" height="100%" style="border:none" src="{{ config.flyoutUrl }}" scrolling="no"> </iframe> </div> '},2226:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<div class="gaining-points-animation" data-tag="RewardsHeader.Icon"> <div class="circle-animation-container"> <svg class="outer-circle-animation"> <circle cx="16" cy="16" r="14"/> </svg> <div class="medal-animation-container"> <svg class="medal-svg-animation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"> <path class="medal" d="{{#include {{config.medalPathTemplate}}}}"></path> </svg> </div> </div> </div> '},3022:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<svg class="medal-circled" data-tag="RewardsHeader.Icon"> <path d="{{#include {{config.medalPathTemplate}}}}"/> <circle stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"/> </svg> '},7736:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<div class="parentContainer" data-tag="RewardsHeader.Icon"> <div class="firework"></div> <div class="dailyCheckAnimationContainer"> <svg id="serp_medal_svg41" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove"> <circle class="dmeter" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"></circle> <circle class="progress" stroke-width="2" stroke-dasharray="58.64 29.32" stroke-dashoffset="109" stroke-linecap="round" cx="16" cy="16" r="14" fill="none"> <animate id="dailyCheckInCompletedAnimation" attributeName="stroke-dasharray" from="58.64 29.32" to="88 0" dur=".5s" fill="freeze" begin=".4s" calcMode="spline" keyTimes="0; 1" keySplines=".5 0 1 .5"/> <animate attributeName="stroke" from="#00b7ab" to="#174AE4" dur="0.5s" begin="2.5s" fill="freeze"/> </circle> </svg> <svg id="serp_medal_svg42" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove"> <path d="{{#include {{config.medalPathTemplate}}}}"> <animate attributeName="fill" from="#174AE4" to="#00b7ab" dur=".2s" begin="0s" fill="freeze"/> <animate attributeName="fill" from="#00b7ab" to="#174AE4" dur=".2s" begin=".2s" fill="freeze"/> <animate dur="0.4s" attributeName="opacity" from="1" to="0" begin="0.4s" repeatCount="0" fill="freeze"/> <animate dur="0.5s" attributeName="opacity" from="0" to="1" begin="2.5s" repeatCount="0" fill="freeze"/> </path> <animateTransform attributeName="transform" attributeType="XML" type="scale" values="1; 1.2; 1" dur="0.4s" repeatCount="1"/> </svg> <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="overlapWithAbove2"> <path d="M37.7778 2.22222C38.3111 2.83951 38.3037 4.1679 37.6296 4.44444L14.1975 27.5309C13.5185 27.9012 12.5691 27.9012 11.9012 27.5309L2.23457 18.1481C1.55556 17.7778 1.54321 16.4198 2.22222 15.7407C2.90123 15.0617 4.23457 15.0617 4.91358 15.4321L13.037 23.7531L35.4321 2.22222C36.1111 1.85185 37.4444 1.85185 37.7778 2.22222Z" stroke-width="4" visibility="hidden" class="checkmark"> <animate attributeName="visibility" attributeType="XML" from="hidden" to="visible" begin=".4s" dur="0.5s" fill="freeze"/> <animate dur="0.5s" attributeName="opacity" from="1" to="0" begin="2.5s" repeatCount="0" fill="freeze"></animate> </path> <animateTransform attributeName="transform" attributeType="XML" type="skewX" begin="0.4s" from="90" to="0" dur="0.5s" fill="freeze"/> </svg> </div> </div> '},678:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<div class="dailyCheckAnimationContainer" data-tag="RewardsHeader.Icon"> <svg id="serp_medal_svg1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"> <circle class="dmeter" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"></circle> <circle class="progress" stroke-width="2" stroke-dasharray="0 88" stroke-dashoffset="109" stroke-linecap="round" cx="16" cy="16" r="14" fill="none"> <animate id="dailyCheckInProgressAnimation" attributeName="stroke-dasharray" from="{{#if data.content.dailyCheckInProgress == 1}}0 88{{#elseif data.content.dailyCheckInProgress == 2}}29.32 58.64{{#else}}{{/if}}" to="{{#if data.content.dailyCheckInProgress == 1}}29.32 58.64{{#elseif data.content.dailyCheckInProgress == 2}}58.64 29.32{{#else}}{{/if}}" dur=".5s" fill="freeze" begin=".4s" calcMode="spline" keyTimes="0; 1" keySplines=".5 0 1 .5"/> </circle> </svg> <svg id="serp_medal_svg12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove"> <path d="{{#include {{config.medalPathTemplate}}}}"> <animate attributeName="fill" from="#174AE4" to="#00b7ab" dur=".2s" begin="0s" fill="freeze"/> <animate attributeName="fill" from="#00b7ab" to="#174AE4" dur=".2s" begin=".2s" fill="freeze"/> </path> <animateTransform attributeName="transform" attributeType="XML" type="scale" values="1; 1.2; 1" dur=".5s" repeatCount="1"/> </svg> </div> '},1829:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<div class="goal-tracking-container" data-tag="RewardsHeader.Icon"> <svg class="goal-track-outer-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"> <circle stroke-width="2" cx="16" cy="16" r="14" fill="none"/> </svg> <svg class="medal-goal-track-meter" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"> <circle stroke-width="2" stroke-dasharray="88" stroke-dashoffset="{{data.content.goalTrackBalance}}" cx="16" cy="16" r="14" fill="none"/> </svg> <svg class="goal-track-medal-type" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"> <path d="{{#include {{config.medalPathTemplate}}}}"/> </svg> </div> '},3880:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<svg class="msn-medal" data-tag="RewardsHeader.Icon"> <path d="{{#include {{config.medalTypeTemplate}}}}"/> </svg> '},7004:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z "},1239:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n="M23 9h-14c-.552 0-1 .448-1 1v3.71c0 .538.288 1.034.756 1.303l4.877 2.778c-1.206.891-1.905 2.43-1.532 4.115.323 1.461 1.501 2.655 2.96 2.987 2.617.596 4.939-1.378 4.939-3.893 0-1.32-.647-2.481-1.633-3.209l4.877-2.779-.002.001c.471-.268.758-.767.758-1.303v-3.71c0-.552-.448-1-1-1zm-12 4.991l-1-.571v-2.42h1v2.991zm5 9.009c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm3-7.866l-2.472 1.537c-.323.201-.733.201-1.056 0l-2.472-1.537v-4.134h6v4.134zm3-1.714l-1 .571v-2.991h1v2.42z "},1152:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n="M20.25 2c.97 0 1.75.78 1.75 1.75v3.04c0 1.03-.57 1.97-1.48 2.44l-6.28 3.28a5 5 0 11-4.48 0L3.48 9.23A2.75 2.75 0 012 6.79V3.75C2 2.78 2.78 2 3.75 2h16.5zM12 13.48a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm3.5-9.98h-7v6.66l3.38 1.77c.08.04.16.04.24 0l3.38-1.77V3.5zM7 3.5H3.75a.25.25 0 00-.25.25v3.04c0 .47.26.9.67 1.11L7 9.38V3.5zm13.25 0H17v5.88l2.83-1.48c.41-.22.67-.64.67-1.1V3.74a.25.25 0 00-.25-.25z "},6432:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='{{#if config.slim}} {{#elseif data.content.gainingPointsAnimationEnabled}} <span class="points-container balance-animation" data-tag="RewardsHeader.Counter"></span> {{#else}} <span class="points-container" data-tag="RewardsHeader.Counter"> {{#if data.content.balance > 0}} {{data.content.balance}} {{#else}} {{locStrings.RewardsHeader_Rewards}} {{/if}} </span> {{/if}} '},6657:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='{{#if data.content.showRedDot == true }} <div class="red-dot"></div> {{/if}} '},9853:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<a href="{{ config.linkUrl }}" data-tag="RewardsHeader.TrialLink"> {{#include {{config.balanceTemplate}}}} <div class="medal"> {{#include {{config.medalTemplate}}}} {{#include {{config.redDotTemplate}}}} </div> <span style="display:none" data-tag="RewardsHeader.RewardsLink"></span> </a> '},3887:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(5072),i=r.n(n),a=r(7825),o=r.n(a),s=r(7659),l=r.n(s),c=r(5056),d=r.n(c),u=r(540),g=r.n(u),h=r(1113),f=r.n(h),p=r(760),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=g(),i()(p.A,v);const m=p.A&&p.A.locals?p.A.locals:void 0},6595:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(5072),i=r.n(n),a=r(7825),o=r.n(a),s=r(7659),l=r.n(s),c=r(5056),d=r.n(c),u=r(540),g=r.n(u),h=r(1113),f=r.n(h),p=r(2670),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=g(),i()(p.A,v);const m=p.A&&p.A.locals?p.A.locals:void 0},1892:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(5072),i=r.n(n),a=r(7825),o=r.n(a),s=r(7659),l=r.n(s),c=r(5056),d=r.n(c),u=r(540),g=r.n(u),h=r(1113),f=r.n(h),p=r(2941),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=g(),i()(p.A,v);const m=p.A&&p.A.locals?p.A.locals:void 0},5072:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],c=n.base?l[0]+n.base:l[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var g=r(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==g)t[g].references++,t[g].updater(h);else{var f=i(h,n);n.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var a=n(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=r(a[o]);t[s].references--}for(var l=n(e,i),c=0;c<a.length;c++){var d=r(a[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=l}}},7659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9306:(e,t,r)=>{var n=r(4901),i=r(6823),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a function")}},3506:(e,t,r)=>{var n=r(3925),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},6469:(e,t,r)=>{var n=r(8227),i=r(2360),a=r(4913).f,o=n("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},7829:(e,t,r)=>{var n=r(8183).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},679:(e,t,r)=>{var n=r(1625),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},8551:(e,t,r)=>{var n=r(34),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not an object")}},7916:(e,t,r)=>{var n=r(6080),i=r(9565),a=r(8981),o=r(6319),s=r(4209),l=r(3517),c=r(6198),d=r(4659),u=r(81),g=r(851),h=Array;e.exports=function(e){var t=a(e),r=l(this),f=arguments.length,p=f>1?arguments[1]:void 0,v=void 0!==p;v&&(p=n(p,f>2?arguments[2]:void 0));var m,y,w,b,S,_,A=g(t),C=0;if(!A||this===h&&s(A))for(m=c(t),y=r?new this(m):h(m);m>C;C++)_=v?p(t[C],C):t[C],d(y,C,_);else for(y=r?new this:[],S=(b=u(t,A)).next;!(w=i(S,b)).done;C++)_=v?o(b,p,[w.value,C],!0):w.value,d(y,C,_);return y.length=C,y}},9617:(e,t,r)=>{var n=r(5397),i=r(5610),a=r(6198),o=function(e){return function(t,r,o){var s=n(t),l=a(s);if(0===l)return!e&&-1;var c,d=i(o,l);if(e&&r!=r){for(;l>d;)if((c=s[d++])!=c)return!0}else for(;l>d;d++)if((e||d in s)&&s[d]===r)return e||d||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},7680:(e,t,r)=>{var n=r(9504);e.exports=n([].slice)},4488:(e,t,r)=>{var n=r(7680),i=Math.floor,a=function(e,t){var r=e.length;if(r<8)for(var o,s,l=1;l<r;){for(s=l,o=e[l];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==l++&&(e[s]=o)}else for(var c=i(r/2),d=a(n(e,0,c),t),u=a(n(e,c),t),g=d.length,h=u.length,f=0,p=0;f<g||p<h;)e[f+p]=f<g&&p<h?t(d[f],u[p])<=0?d[f++]:u[p++]:f<g?d[f++]:u[p++];return e};e.exports=a},6319:(e,t,r)=>{var n=r(8551),i=r(9539);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},4576:(e,t,r)=>{var n=r(9504),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},6955:(e,t,r)=>{var n=r(2140),i=r(4901),a=r(4576),o=r(8227)("toStringTag"),s=Object,l="Arguments"===a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:l?a(t):"Object"===(n=a(t))&&i(t.callee)?"Arguments":n}},7740:(e,t,r)=>{var n=r(9297),i=r(5031),a=r(7347),o=r(4913);e.exports=function(e,t,r){for(var s=i(t),l=o.f,c=a.f,d=0;d<s.length;d++){var u=s[d];n(e,u)||r&&n(r,u)||l(e,u,c(t,u))}}},2211:(e,t,r)=>{var n=r(9039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2529:e=>{e.exports=function(e,t){return{value:e,done:t}}},6699:(e,t,r)=>{var n=r(3724),i=r(4913),a=r(6980);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},6980:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:(e,t,r)=>{var n=r(3724),i=r(4913),a=r(6980);e.exports=function(e,t,r){n?i.f(e,t,a(0,r)):e[t]=r}},2106:(e,t,r)=>{var n=r(283),i=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},6840:(e,t,r)=>{var n=r(4901),i=r(4913),a=r(283),o=r(9433);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&a(r,c,s),s.global)l?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6279:(e,t,r)=>{var n=r(6840);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},9433:(e,t,r)=>{var n=r(4475),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},3724:(e,t,r)=>{var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(e,t,r)=>{var n=r(4475),i=r(34),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7400:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(e,t,r)=>{var n=r(4055)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},9392:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:(e,t,r)=>{var n,i,a=r(4475),o=r(9392),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,d=c&&c.v8;d&&(i=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},8727:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:(e,t,r)=>{var n=r(4475),i=r(7347).f,a=r(6699),o=r(6840),s=r(9433),l=r(7740),c=r(2796);e.exports=function(e,t){var r,d,u,g,h,f=e.target,p=e.global,v=e.stat;if(r=p?n:v?n[f]||s(f,{}):n[f]&&n[f].prototype)for(d in t){if(g=t[d],u=e.dontCallGetSet?(h=i(r,d))&&h.value:r[d],!c(p?d:f+(v?".":"#")+d,e.forced)&&void 0!==u){if(typeof g==typeof u)continue;l(g,u)}(e.sham||u&&u.sham)&&a(g,"sham",!0),o(r,d,g,e)}}},9039:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9228:(e,t,r)=>{r(7495);var n=r(9565),i=r(6840),a=r(7323),o=r(9039),s=r(8227),l=r(6699),c=s("species"),d=RegExp.prototype;e.exports=function(e,t,r,u){var g=s(e),h=!o((function(){var t={};return t[g]=function(){return 7},7!==""[e](t)})),f=h&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return t=!0,null},r[g](""),!t}));if(!h||!f||r){var p=/./[g],v=t(g,""[e],(function(e,t,r,i,o){var s=t.exec;return s===a||s===d.exec?h&&!o?{done:!0,value:n(p,t,r,i)}:{done:!0,value:n(e,r,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(d,g,v[1])}u&&l(d[g],"sham",!0)}},8745:(e,t,r)=>{var n=r(616),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},6080:(e,t,r)=>{var n=r(7476),i=r(9306),a=r(616),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},616:(e,t,r)=>{var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:(e,t,r)=>{var n=r(616),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},350:(e,t,r)=>{var n=r(3724),i=r(9297),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},6706:(e,t,r)=>{var n=r(9504),i=r(9306);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},7476:(e,t,r)=>{var n=r(4576),i=r(9504);e.exports=function(e){if("Function"===n(e))return i(e)}},9504:(e,t,r)=>{var n=r(616),i=Function.prototype,a=i.call,o=n&&i.bind.bind(a,a);e.exports=n?o:function(e){return function(){return a.apply(e,arguments)}}},7751:(e,t,r)=>{var n=r(4475),i=r(4901);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},851:(e,t,r)=>{var n=r(6955),i=r(5966),a=r(4117),o=r(6269),s=r(8227)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},81:(e,t,r)=>{var n=r(9565),i=r(9306),a=r(8551),o=r(6823),s=r(851),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw new l(o(e)+" is not iterable")}},5966:(e,t,r)=>{var n=r(9306),i=r(4117);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},2478:(e,t,r)=>{var n=r(9504),i=r(8981),a=Math.floor,o=n("".charAt),s=n("".replace),l=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,u,g){var h=r+e.length,f=n.length,p=d;return void 0!==u&&(u=i(u),p=c),s(g,p,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,r);case"'":return l(t,h);case"<":c=u[l(s,1,-1)];break;default:var d=+s;if(0===d)return i;if(d>f){var g=a(d/10);return 0===g?i:g<=f?void 0===n[g-1]?o(s,1):n[g-1]+o(s,1):i}c=n[d-1]}return void 0===c?"":c}))}},4475:function(e,t,r){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(e,t,r)=>{var n=r(9504),i=r(8981),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},421:e=>{e.exports={}},397:(e,t,r)=>{var n=r(7751);e.exports=n("document","documentElement")},5917:(e,t,r)=>{var n=r(3724),i=r(9039),a=r(4055);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},7055:(e,t,r)=>{var n=r(9504),i=r(9039),a=r(4576),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},3706:(e,t,r)=>{var n=r(9504),i=r(4901),a=r(7629),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},1181:(e,t,r)=>{var n,i,a,o=r(8622),s=r(4475),l=r(34),c=r(6699),d=r(9297),u=r(7629),g=r(6119),h=r(421),f="Object already initialized",p=s.TypeError,v=s.WeakMap;if(o||u.state){var m=u.state||(u.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new p(f);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var y=g("state");h[y]=!0,n=function(e,t){if(d(e,y))throw new p(f);return t.facade=e,c(e,y,t),t},i=function(e){return d(e,y)?e[y]:{}},a=function(e){return d(e,y)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return r}}}},4209:(e,t,r)=>{var n=r(8227),i=r(6269),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},4901:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},3517:(e,t,r)=>{var n=r(9504),i=r(9039),a=r(4901),o=r(6955),s=r(7751),l=r(3706),c=function(){},d=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,g=n(u.exec),h=!u.test(c),f=function(e){if(!a(e))return!1;try{return d(c,[],e),!0}catch(e){return!1}},p=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!g(u,l(e))}catch(e){return!0}};p.sham=!0,e.exports=!d||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?p:f},2796:(e,t,r)=>{var n=r(9039),i=r(4901),a=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r===d||r!==c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",d=o.POLYFILL="P";e.exports=o},4117:e=>{e.exports=function(e){return null==e}},34:(e,t,r)=>{var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3925:(e,t,r)=>{var n=r(34);e.exports=function(e){return n(e)||null===e}},6395:e=>{e.exports=!1},757:(e,t,r)=>{var n=r(7751),i=r(4901),a=r(1625),o=r(7040),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},9539:(e,t,r)=>{var n=r(9565),i=r(8551),a=r(5966);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},3994:(e,t,r)=>{var n=r(7657).IteratorPrototype,i=r(2360),a=r(6980),o=r(687),s=r(6269),l=function(){return this};e.exports=function(e,t,r,c){var d=t+" Iterator";return e.prototype=i(n,{next:a(+!c,r)}),o(e,d,!1,!0),s[d]=l,e}},1088:(e,t,r)=>{var n=r(6518),i=r(9565),a=r(6395),o=r(350),s=r(4901),l=r(3994),c=r(2787),d=r(2967),u=r(687),g=r(6699),h=r(6840),f=r(8227),p=r(6269),v=r(7657),m=o.PROPER,y=o.CONFIGURABLE,w=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,S=f("iterator"),_="keys",A="values",C="entries",x=function(){return this};e.exports=function(e,t,r,o,f,v,E){l(r,t,o);var P,I,k,R=function(e){if(e===f&&O)return O;if(!b&&e&&e in M)return M[e];switch(e){case _:case A:case C:return function(){return new r(this,e)}}return function(){return new r(this)}},D=t+" Iterator",T=!1,M=e.prototype,L=M[S]||M["@@iterator"]||f&&M[f],O=!b&&L||R(f),F="Array"===t&&M.entries||L;if(F&&(P=c(F.call(new e)))!==Object.prototype&&P.next&&(a||c(P)===w||(d?d(P,w):s(P[S])||h(P,S,x)),u(P,D,!0,!0),a&&(p[D]=x)),m&&f===A&&L&&L.name!==A&&(!a&&y?g(M,"name",A):(T=!0,O=function(){return i(L,this)})),f)if(I={values:R(A),keys:v?O:R(_),entries:R(C)},E)for(k in I)(b||T||!(k in M))&&h(M,k,I[k]);else n({target:t,proto:!0,forced:b||T},I);return a&&!E||M[S]===O||h(M,S,O,{name:f}),p[t]=O,I}},7657:(e,t,r)=>{var n,i,a,o=r(9039),s=r(4901),l=r(34),c=r(2360),d=r(2787),u=r(6840),g=r(8227),h=r(6395),f=g("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=d(d(a)))!==Object.prototype&&(n=i):p=!0),!l(n)||o((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[f])||u(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},6269:e=>{e.exports={}},6198:(e,t,r)=>{var n=r(8014);e.exports=function(e){return n(e.length)}},283:(e,t,r)=>{var n=r(9504),i=r(9039),a=r(4901),o=r(9297),s=r(3724),l=r(350).CONFIGURABLE,c=r(3706),d=r(1181),u=d.enforce,g=d.get,h=String,f=Object.defineProperty,p=n("".slice),v=n("".replace),m=n([].join),y=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),w=String(String).split("String"),b=e.exports=function(e,t,r){"Symbol("===p(h(t),0,7)&&(t="["+v(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&o(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return o(n,"source")||(n.source=m(w,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return a(this)&&g(this).source||c(this)}),"toString")},741:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},4213:(e,t,r)=>{var n=r(3724),i=r(9504),a=r(9565),o=r(9039),s=r(1072),l=r(3717),c=r(8773),d=r(8981),u=r(7055),g=Object.assign,h=Object.defineProperty,f=i([].concat);e.exports=!g||o((function(){if(n&&1!==g({b:1},g(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!==g({},e)[r]||s(g({},t)).join("")!==i}))?function(e,t){for(var r=d(e),i=arguments.length,o=1,g=l.f,h=c.f;i>o;)for(var p,v=u(arguments[o++]),m=g?f(s(v),g(v)):s(v),y=m.length,w=0;y>w;)p=m[w++],n&&!a(h,v,p)||(r[p]=v[p]);return r}:g},2360:(e,t,r)=>{var n,i=r(8551),a=r(6801),o=r(8727),s=r(421),l=r(397),c=r(4055),d=r(6119),u="prototype",g="script",h=d("IE_PROTO"),f=function(){},p=function(e){return"<"+g+">"+e+"</"+g+">"},v=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&n?v(n):(t=c("iframe"),r="java"+g+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):v(n);for(var i=o.length;i--;)delete m[u][o[i]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[u]=i(e),r=new f,f[u]=null,r[h]=e):r=m(),void 0===t?r:a.f(r,t)}},6801:(e,t,r)=>{var n=r(3724),i=r(8686),a=r(4913),o=r(8551),s=r(5397),l=r(1072);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=l(t),c=i.length,d=0;c>d;)a.f(e,r=i[d++],n[r]);return e}},4913:(e,t,r)=>{var n=r(3724),i=r(5917),a=r(8686),o=r(8551),s=r(6969),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",g="configurable",h="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=d(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:g in r?r[g]:n[g],enumerable:u in r?r[u]:n[u],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:(e,t,r)=>{var n=r(3724),i=r(9565),a=r(8773),o=r(6980),s=r(5397),l=r(6969),c=r(9297),d=r(5917),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=s(e),t=l(t),d)try{return u(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},8480:(e,t,r)=>{var n=r(1828),i=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},3717:(e,t)=>{t.f=Object.getOwnPropertySymbols},2787:(e,t,r)=>{var n=r(9297),i=r(4901),a=r(8981),o=r(6119),s=r(2211),l=o("IE_PROTO"),c=Object,d=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?d:null}},1625:(e,t,r)=>{var n=r(9504);e.exports=n({}.isPrototypeOf)},1828:(e,t,r)=>{var n=r(9504),i=r(9297),a=r(5397),o=r(9617).indexOf,s=r(421),l=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,d=[];for(r in n)!i(s,r)&&i(n,r)&&l(d,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(d,r)||l(d,r));return d}},1072:(e,t,r)=>{var n=r(1828),i=r(8727);e.exports=Object.keys||function(e){return n(e,i)}},8773:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},2967:(e,t,r)=>{var n=r(6706),i=r(34),a=r(7750),o=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return a(r),o(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},4270:(e,t,r)=>{var n=r(9565),i=r(4901),a=r(34),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw new o("Can't convert object to primitive value")}},5031:(e,t,r)=>{var n=r(7751),i=r(9504),a=r(8480),o=r(3717),s=r(8551),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?l(t,r(e)):t}},6682:(e,t,r)=>{var n=r(9565),i=r(8551),a=r(4901),o=r(4576),s=r(7323),l=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var c=n(r,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return n(s,e,t);throw new l("RegExp#exec called on incompatible receiver")}},7323:(e,t,r)=>{var n,i,a=r(9565),o=r(9504),s=r(655),l=r(7979),c=r(8429),d=r(5745),u=r(2360),g=r(1181).get,h=r(3635),f=r(8814),p=d("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,y=o("".charAt),w=o("".indexOf),b=o("".replace),S=o("".slice),_=(i=/b*/g,a(v,n=/a/,"a"),a(v,i,"a"),0!==n.lastIndex||0!==i.lastIndex),A=c.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(_||C||A||h||f)&&(m=function(e){var t,r,n,i,o,c,d,h=this,f=g(h),x=s(e),E=f.raw;if(E)return E.lastIndex=h.lastIndex,t=a(m,E,x),h.lastIndex=E.lastIndex,t;var P=f.groups,I=A&&h.sticky,k=a(l,h),R=h.source,D=0,T=x;if(I&&(k=b(k,"y",""),-1===w(k,"g")&&(k+="g"),T=S(x,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==y(x,h.lastIndex-1))&&(R="(?: "+R+")",T=" "+T,D++),r=new RegExp("^(?:"+R+")",k)),C&&(r=new RegExp("^"+R+"$(?!\\s)",k)),_&&(n=h.lastIndex),i=a(v,I?r:h,T),I?i?(i.input=S(i.input,D),i[0]=S(i[0],D),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:_&&i&&(h.lastIndex=h.global?i.index+i[0].length:n),C&&i&&i.length>1&&a(p,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&P)for(i.groups=c=u(null),o=0;o<P.length;o++)c[(d=P[o])[0]]=i[d[1]];return i}),e.exports=m},7979:(e,t,r)=>{var n=r(8551);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8429:(e,t,r)=>{var n=r(9039),i=r(4475).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},3635:(e,t,r)=>{var n=r(9039),i=r(4475).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},8814:(e,t,r)=>{var n=r(9039),i=r(4475).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7750:(e,t,r)=>{var n=r(4117),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},3389:(e,t,r)=>{var n=r(4475),i=r(3724),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=a(n,e);return t&&t.value}},687:(e,t,r)=>{var n=r(4913).f,i=r(9297),a=r(8227)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},6119:(e,t,r)=>{var n=r(5745),i=r(3392),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},7629:(e,t,r)=>{var n=r(6395),i=r(4475),a=r(9433),o="__core-js_shared__",s=e.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(e,t,r)=>{var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},8183:(e,t,r)=>{var n=r(9504),i=r(1291),a=r(655),o=r(7750),s=n("".charAt),l=n("".charCodeAt),c=n("".slice),d=function(e){return function(t,r){var n,d,u=a(o(t)),g=i(r),h=u.length;return g<0||g>=h?e?"":void 0:(n=l(u,g))<55296||n>56319||g+1===h||(d=l(u,g+1))<56320||d>57343?e?s(u,g):n:e?c(u,g,g+2):d-56320+(n-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},6098:(e,t,r)=>{var n=r(9504),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,c=n(o.exec),d=Math.floor,u=String.fromCharCode,g=n("".charCodeAt),h=n([].join),f=n([].push),p=n("".replace),v=n("".split),m=n("".toLowerCase),y=function(e){return e+22+75*(e<26)},w=function(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;)e=d(e/35),n+=36;return d(n+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=g(e,r++);if(i>=55296&&i<=56319&&r<n){var a=g(e,r++);56320==(64512&a)?f(t,((1023&i)<<10)+(1023&a)+65536):(f(t,i),r--)}else f(t,i)}return t}(e);var r,n,a=e.length,o=128,c=0,p=72;for(r=0;r<e.length;r++)(n=e[r])<128&&f(t,u(n));var v=t.length,m=v;for(v&&f(t,"-");m<a;){var b=i;for(r=0;r<e.length;r++)(n=e[r])>=o&&n<b&&(b=n);var S=m+1;if(b-o>d((i-c)/S))throw new l(s);for(c+=(b-o)*S,o=b,r=0;r<e.length;r++){if((n=e[r])<o&&++c>i)throw new l(s);if(n===o){for(var _=c,A=36;;){var C=A<=p?1:A>=p+26?26:A-p;if(_<C)break;var x=_-C,E=36-C;f(t,u(y(C+x%E))),_=d(x/E),A+=36}f(t,u(y(_))),p=w(c,S,m===v),c=0,m++}}c++,o++}return h(t,"")};e.exports=function(e){var t,r,n=[],i=v(p(m(e),o,"."),".");for(t=0;t<i.length;t++)r=i[t],f(n,c(a,r)?"xn--"+b(r):r);return h(n,".")}},4495:(e,t,r)=>{var n=r(7388),i=r(9039),a=r(4475).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},5610:(e,t,r)=>{var n=r(1291),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},5397:(e,t,r)=>{var n=r(7055),i=r(7750);e.exports=function(e){return n(i(e))}},1291:(e,t,r)=>{var n=r(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},8014:(e,t,r)=>{var n=r(1291),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},8981:(e,t,r)=>{var n=r(7750),i=Object;e.exports=function(e){return i(n(e))}},2777:(e,t,r)=>{var n=r(9565),i=r(34),a=r(757),o=r(5966),s=r(4270),l=r(8227),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,l=o(e,d);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||a(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:(e,t,r)=>{var n=r(2777),i=r(757);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},2140:(e,t,r)=>{var n={};n[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(n)},655:(e,t,r)=>{var n=r(6955),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:(e,t,r)=>{var n=r(9504),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},7416:(e,t,r)=>{var n=r(9039),i=r(8227),a=r(3724),o=r(6395),s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),r.delete("a",2),r.delete("b",void 0),o&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},7040:(e,t,r)=>{var n=r(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(e,t,r)=>{var n=r(3724),i=r(9039);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},8622:(e,t,r)=>{var n=r(4475),i=r(4901),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},8227:(e,t,r)=>{var n=r(4475),i=r(5745),a=r(9297),o=r(3392),s=r(4495),l=r(7040),c=n.Symbol,d=i("wks"),u=l?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(d,e)||(d[e]=s&&a(c,e)?c[e]:u("Symbol."+e)),d[e]}},4423:(e,t,r)=>{var n=r(6518),i=r(9617).includes,a=r(9039),o=r(6469);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},3792:(e,t,r)=>{var n=r(5397),i=r(6469),a=r(6269),o=r(1181),s=r(4913).f,l=r(1088),c=r(2529),d=r(6395),u=r(3724),g="Array Iterator",h=o.set,f=o.getterFor(g);e.exports=l(Array,"Array",(function(e,t){h(this,{type:g,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,c(void 0,!0);switch(e.kind){case"keys":return c(r,!1);case"values":return c(t[r],!1)}return c([r,t[r]],!1)}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!d&&u&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},7495:(e,t,r)=>{var n=r(6518),i=r(7323);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7764:(e,t,r)=>{var n=r(8183).charAt,i=r(655),a=r(1181),o=r(1088),s=r(2529),l="String Iterator",c=a.set,d=a.getterFor(l);o(String,"String",(function(e){c(this,{type:l,string:i(e),index:0})}),(function(){var e,t=d(this),r=t.string,i=t.index;return i>=r.length?s(void 0,!0):(e=n(r,i),t.index+=e.length,s(e,!1))}))},5440:(e,t,r)=>{var n=r(8745),i=r(9565),a=r(9504),o=r(9228),s=r(9039),l=r(8551),c=r(4901),d=r(4117),u=r(1291),g=r(8014),h=r(655),f=r(7750),p=r(7829),v=r(5966),m=r(2478),y=r(6682),w=r(8227)("replace"),b=Math.max,S=Math.min,_=a([].concat),A=a([].push),C=a("".indexOf),x=a("".slice),E="$0"==="a".replace(/./,"$0"),P=!!/./[w]&&""===/./[w]("a","$0");o("replace",(function(e,t,r){var a=P?"$":"$0";return[function(e,r){var n=f(this),a=d(e)?void 0:v(e,w);return a?i(a,e,n,r):i(t,h(n),e,r)},function(e,i){var o=l(this),s=h(e);if("string"==typeof i&&-1===C(i,a)&&-1===C(i,"$<")){var d=r(t,o,s,i);if(d.done)return d.value}var f=c(i);f||(i=h(i));var v,w=o.global;w&&(v=o.unicode,o.lastIndex=0);for(var E,P=[];null!==(E=y(o,s))&&(A(P,E),w);)""===h(E[0])&&(o.lastIndex=p(s,g(o.lastIndex),v));for(var I,k="",R=0,D=0;D<P.length;D++){for(var T,M=h((E=P[D])[0]),L=b(S(u(E.index),s.length),0),O=[],F=1;F<E.length;F++)A(O,void 0===(I=E[F])?I:String(I));var N=E.groups;if(f){var B=_([M],O,L,s);void 0!==N&&A(B,N),T=h(n(i,void 0,B))}else T=m(M,s,L,O,N,i);L>=R&&(k+=x(s,R,L)+T,R=L+M.length)}return k+x(s,R)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!E||P)},2953:(e,t,r)=>{var n=r(4475),i=r(7400),a=r(9296),o=r(3792),s=r(6699),l=r(687),c=r(8227)("iterator"),d=o.values,u=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(t){e[c]=d}if(l(e,t,!0),i[t])for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(t){e[r]=o[r]}}};for(var g in i)u(n[g]&&n[g].prototype,g);u(a,"DOMTokenList")},8406:(e,t,r)=>{r(3792);var n=r(6518),i=r(4475),a=r(3389),o=r(9565),s=r(9504),l=r(3724),c=r(7416),d=r(6840),u=r(2106),g=r(6279),h=r(687),f=r(3994),p=r(1181),v=r(679),m=r(4901),y=r(9297),w=r(6080),b=r(6955),S=r(8551),_=r(34),A=r(655),C=r(2360),x=r(6980),E=r(81),P=r(851),I=r(2529),k=r(2812),R=r(8227),D=r(4488),T=R("iterator"),M="URLSearchParams",L=M+"Iterator",O=p.set,F=p.getterFor(M),N=p.getterFor(L),B=a("fetch"),U=a("Request"),W=a("Headers"),z=U&&U.prototype,j=W&&W.prototype,H=i.RegExp,G=i.TypeError,q=i.decodeURIComponent,V=i.encodeURIComponent,Q=s("".charAt),X=s([].join),$=s([].push),K=s("".replace),J=s([].shift),Y=s([].splice),Z=s("".split),ee=s("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return q(e)}catch(t){return e}},ae=function(e){var t=K(e,te," "),r=4;try{return q(t)}catch(e){for(;r;)t=K(t,ne(r--),ie);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},le=function(e){return se[e]},ce=function(e){return K(V(e),oe,le)},de=f((function(e,t){O(this,{type:L,target:F(e).entries,index:0,kind:t})}),M,(function(){var e=N(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,I(void 0,!0);var n=t[r];switch(e.kind){case"keys":return I(n.key,!1);case"values":return I(n.value,!1)}return I([n.key,n.value],!1)}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(_(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Q(e,0)?ee(e,1):e:A(e)))};ue.prototype={type:M,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,s,l,c=this.entries,d=P(e);if(d)for(r=(t=E(e,d)).next;!(n=o(r,t)).done;){if(a=(i=E(S(n.value))).next,(s=o(a,i)).done||(l=o(a,i)).done||!o(a,i).done)throw new G("Expected sequence with length 2");$(c,{key:A(s.value),value:A(l.value)})}else for(var u in e)y(e,u)&&$(c,{key:u,value:A(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=this.entries,i=Z(e,"&"),a=0;a<i.length;)(t=i[a++]).length&&(r=Z(t,"="),$(n,{key:ae(J(r)),value:ae(X(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],$(r,ce(e.key)+"="+ce(e.value));return X(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ge=function(){v(this,he);var e=O(this,new ue(arguments.length>0?arguments[0]:void 0));l||(this.size=e.entries.length)},he=ge.prototype;if(g(he,{append:function(e,t){var r=F(this);k(arguments.length,2),$(r.entries,{key:A(e),value:A(t)}),l||this.length++,r.updateURL()},delete:function(e){for(var t=F(this),r=k(arguments.length,1),n=t.entries,i=A(e),a=r<2?void 0:arguments[1],o=void 0===a?a:A(a),s=0;s<n.length;){var c=n[s];if(c.key!==i||void 0!==o&&c.value!==o)s++;else if(Y(n,s,1),void 0!==o)break}l||(this.size=n.length),t.updateURL()},get:function(e){var t=F(this).entries;k(arguments.length,1);for(var r=A(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=F(this).entries;k(arguments.length,1);for(var r=A(e),n=[],i=0;i<t.length;i++)t[i].key===r&&$(n,t[i].value);return n},has:function(e){for(var t=F(this).entries,r=k(arguments.length,1),n=A(e),i=r<2?void 0:arguments[1],a=void 0===i?i:A(i),o=0;o<t.length;){var s=t[o++];if(s.key===n&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var r=F(this);k(arguments.length,1);for(var n,i=r.entries,a=!1,o=A(e),s=A(t),c=0;c<i.length;c++)(n=i[c]).key===o&&(a?Y(i,c--,1):(a=!0,n.value=s));a||$(i,{key:o,value:s}),l||(this.size=i.length),r.updateURL()},sort:function(){var e=F(this);D(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=F(this).entries,n=w(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),d(he,T,he.entries,{name:"entries"}),d(he,"toString",(function(){return F(this).serialize()}),{enumerable:!0}),l&&u(he,"size",{get:function(){return F(this).entries.length},configurable:!0,enumerable:!0}),h(ge,M),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:ge}),!c&&m(W)){var fe=s(j.has),pe=s(j.set),ve=function(e){if(_(e)){var t,r=e.body;if(b(r)===M)return t=e.headers?new W(e.headers):new W,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(e,{body:x(0,A(r)),headers:x(0,t)})}return e};if(m(B)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return B(e,arguments.length>1?ve(arguments[1]):{})}}),m(U)){var me=function(e){return v(this,z),new U(e,arguments.length>1?ve(arguments[1]):{})};z.constructor=me,me.prototype=z,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:ge,getState:F}},8408:(e,t,r)=>{r(8406)},5806:(e,t,r)=>{r(7764);var n,i=r(6518),a=r(3724),o=r(7416),s=r(4475),l=r(6080),c=r(9504),d=r(6840),u=r(2106),g=r(679),h=r(9297),f=r(4213),p=r(7916),v=r(7680),m=r(8183).codeAt,y=r(6098),w=r(655),b=r(687),S=r(2812),_=r(8406),A=r(1181),C=A.set,x=A.getterFor("URL"),E=_.URLSearchParams,P=_.getState,I=s.URL,k=s.TypeError,R=s.parseInt,D=Math.floor,T=Math.pow,M=c("".charAt),L=c(/./.exec),O=c([].join),F=c(1..toString),N=c([].pop),B=c([].push),U=c("".replace),W=c([].shift),z=c("".split),j=c("".slice),H=c("".toLowerCase),G=c([].unshift),q="Invalid scheme",V="Invalid host",Q="Invalid port",X=/[a-z]/i,$=/[\d+-.a-z]/i,K=/\d/,J=/^0x/i,Y=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)G(t,e%256),e=D(e/256);return O(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=F(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},se={},le=f({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=f({},le,{"#":1,"?":1,"{":1,"}":1}),de=f({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var r=m(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},ge={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var r;return 2===e.length&&L(X,M(e,0))&&(":"===(r=M(e,1))||!t&&"|"===r)},fe=function(e){var t;return e.length>1&&he(j(e,0,2))&&(2===e.length||"/"===(t=M(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===H(e)},ve={},me={},ye={},we={},be={},Se={},_e={},Ae={},Ce={},xe={},Ee={},Pe={},Ie={},ke={},Re={},De={},Te={},Me={},Le={},Oe={},Fe={},Ne=function(e,t,r){var n,i,a,o=w(e);if(t){if(i=this.parse(o))throw new k(i);this.searchParams=null}else{if(void 0!==r&&(n=new Ne(r,!0)),i=this.parse(o,null,n))throw new k(i);(a=P(new E)).bindURL(this),this.searchParams=a}};Ne.prototype={type:"URL",parse:function(e,t,r){var i,a,o,s,l,c=this,d=t||ve,u=0,g="",f=!1,m=!1,y=!1;for(e=w(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=U(e,ne,""),e=U(e,ie,"$1")),e=U(e,ae,""),i=p(e);u<=i.length;){switch(a=i[u],d){case ve:if(!a||!L(X,a)){if(t)return q;d=ye;continue}g+=H(a),d=me;break;case me:if(a&&(L($,a)||"+"===a||"-"===a||"."===a))g+=H(a);else{if(":"!==a){if(t)return q;g="",d=ye,u=0;continue}if(t&&(c.isSpecial()!==h(ge,g)||"file"===g&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=g,t)return void(c.isSpecial()&&ge[c.scheme]===c.port&&(c.port=null));g="","file"===c.scheme?d=ke:c.isSpecial()&&r&&r.scheme===c.scheme?d=we:c.isSpecial()?d=Ae:"/"===i[u+1]?(d=be,u++):(c.cannotBeABaseURL=!0,B(c.path,""),d=Le)}break;case ye:if(!r||r.cannotBeABaseURL&&"#"!==a)return q;if(r.cannotBeABaseURL&&"#"===a){c.scheme=r.scheme,c.path=v(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,d=Fe;break}d="file"===r.scheme?ke:Se;continue;case we:if("/"!==a||"/"!==i[u+1]){d=Se;continue}d=Ce,u++;break;case be:if("/"===a){d=xe;break}d=Me;continue;case Se:if(c.scheme=r.scheme,a===n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.query=r.query;else if("/"===a||"\\"===a&&c.isSpecial())d=_e;else if("?"===a)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.query="",d=Oe;else{if("#"!==a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.path.length--,d=Me;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.query=r.query,c.fragment="",d=Fe}break;case _e:if(!c.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,d=Me;continue}d=xe}else d=Ce;break;case Ae:if(d=Ce,"/"!==a||"/"!==M(g,u+1))continue;u++;break;case Ce:if("/"!==a&&"\\"!==a){d=xe;continue}break;case xe:if("@"===a){f&&(g="%40"+g),f=!0,o=p(g);for(var b=0;b<o.length;b++){var S=o[b];if(":"!==S||y){var _=ue(S,de);y?c.password+=_:c.username+=_}else y=!0}g=""}else if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()){if(f&&""===g)return"Invalid authority";u-=p(g).length+1,g="",d=Ee}else g+=a;break;case Ee:case Pe:if(t&&"file"===c.scheme){d=De;continue}if(":"!==a||m){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()){if(c.isSpecial()&&""===g)return V;if(t&&""===g&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(g))return s;if(g="",d=Te,t)return;continue}"["===a?m=!0:"]"===a&&(m=!1),g+=a}else{if(""===g)return V;if(s=c.parseHost(g))return s;if(g="",d=Ie,t===Pe)return}break;case Ie:if(!L(K,a)){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()||t){if(""!==g){var A=R(g,10);if(A>65535)return Q;c.port=c.isSpecial()&&A===ge[c.scheme]?null:A,g=""}if(t)return;d=Te;continue}return Q}g+=a;break;case ke:if(c.scheme="file","/"===a||"\\"===a)d=Re;else{if(!r||"file"!==r.scheme){d=Me;continue}switch(a){case n:c.host=r.host,c.path=v(r.path),c.query=r.query;break;case"?":c.host=r.host,c.path=v(r.path),c.query="",d=Oe;break;case"#":c.host=r.host,c.path=v(r.path),c.query=r.query,c.fragment="",d=Fe;break;default:fe(O(v(i,u),""))||(c.host=r.host,c.path=v(r.path),c.shortenPath()),d=Me;continue}}break;case Re:if("/"===a||"\\"===a){d=De;break}r&&"file"===r.scheme&&!fe(O(v(i,u),""))&&(he(r.path[0],!0)?B(c.path,r.path[0]):c.host=r.host),d=Me;continue;case De:if(a===n||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&he(g))d=Me;else if(""===g){if(c.host="",t)return;d=Te}else{if(s=c.parseHost(g))return s;if("localhost"===c.host&&(c.host=""),t)return;g="",d=Te}continue}g+=a;break;case Te:if(c.isSpecial()){if(d=Me,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==n&&(d=Me,"/"!==a))continue}else c.fragment="",d=Fe;else c.query="",d=Oe;break;case Me:if(a===n||"/"===a||"\\"===a&&c.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(l=H(l=g))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"===a||"\\"===a&&c.isSpecial()||B(c.path,"")):pe(g)?"/"===a||"\\"===a&&c.isSpecial()||B(c.path,""):("file"===c.scheme&&!c.path.length&&he(g)&&(c.host&&(c.host=""),g=M(g,0)+":"),B(c.path,g)),g="","file"===c.scheme&&(a===n||"?"===a||"#"===a))for(;c.path.length>1&&""===c.path[0];)W(c.path);"?"===a?(c.query="",d=Oe):"#"===a&&(c.fragment="",d=Fe)}else g+=ue(a,ce);break;case Le:"?"===a?(c.query="",d=Oe):"#"===a?(c.fragment="",d=Fe):a!==n&&(c.path[0]+=ue(a,se));break;case Oe:t||"#"!==a?a!==n&&("'"===a&&c.isSpecial()?c.query+="%27":c.query+="#"===a?"%23":ue(a,se)):(c.fragment="",d=Fe);break;case Fe:a!==n&&(c.fragment+=ue(a,le))}u++}},parseHost:function(e){var t,r,n;if("["===M(e,0)){if("]"!==M(e,e.length-1))return V;if(t=function(e){var t,r,n,i,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,d=null,u=0,g=function(){return M(e,u)};if(":"===g()){if(":"!==M(e,1))return;u+=2,d=++c}for(;g();){if(8===c)return;if(":"!==g()){for(t=r=0;r<4&&L(ee,g());)t=16*t+R(g(),16),u++,r++;if("."===g()){if(0===r)return;if(u-=r,c>6)return;for(n=0;g();){if(i=null,n>0){if(!("."===g()&&n<4))return;u++}if(!L(K,g()))return;for(;L(K,g());){if(a=R(g(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;u++}l[c]=256*l[c]+i,2!=++n&&4!==n||c++}if(4!==n)return;break}if(":"===g()){if(u++,!g())return}else if(g())return;l[c++]=t}else{if(null!==d)return;u++,d=++c}}if(null!==d)for(o=c-d,c=7;0!==c&&o>0;)s=l[c],l[c--]=l[d+o-1],l[d+--o]=s;else if(8!==c)return;return l}(j(e,1,-1)),!t)return V;this.host=t}else if(this.isSpecial()){if(e=y(e),L(te,e))return V;if(t=function(e){var t,r,n,i,a,o,s,l=z(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""===(i=l[n]))return e;if(a=10,i.length>1&&"0"===M(i,0)&&(a=L(J,i)?16:8,i=j(i,8===a?1:2)),""===i)o=0;else{if(!L(10===a?Z:8===a?Y:ee,i))return e;o=R(i,a)}B(r,o)}for(n=0;n<t;n++)if(o=r[n],n===t-1){if(o>=T(256,5-t))return null}else if(o>255)return null;for(s=N(r),n=0;n<r.length;n++)s+=r[n]*T(256,3-n);return s}(e),null===t)return V;this.host=t}else{if(L(re,e))return V;for(t="",r=p(e),n=0;n<r.length;n++)t+=ue(r[n],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return h(ge,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=oe(i),null!==a&&(c+=":"+a)):"file"===t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+O(o,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw new k(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(w(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=p(w(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ue(t[r],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(w(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ue(t[r],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getPort:function(){var e=this.port;return null===e?"":w(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=w(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+O(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Te))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=w(e))?this.query=null:("?"===M(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Oe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=w(e))?("#"===M(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Fe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=g(this,Ue),r=S(arguments.length,1)>1?arguments[1]:void 0,n=C(t,new Ne(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ue=Be.prototype,We=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(u(Ue,"href",We("serialize","setHref")),u(Ue,"origin",We("getOrigin")),u(Ue,"protocol",We("getProtocol","setProtocol")),u(Ue,"username",We("getUsername","setUsername")),u(Ue,"password",We("getPassword","setPassword")),u(Ue,"host",We("getHost","setHost")),u(Ue,"hostname",We("getHostname","setHostname")),u(Ue,"port",We("getPort","setPort")),u(Ue,"pathname",We("getPathname","setPathname")),u(Ue,"search",We("getSearch","setSearch")),u(Ue,"searchParams",We("getSearchParams")),u(Ue,"hash",We("getHash","setHash"))),d(Ue,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),d(Ue,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),I){var ze=I.createObjectURL,je=I.revokeObjectURL;ze&&d(Be,"createObjectURL",l(ze,I)),je&&d(Be,"revokeObjectURL",l(je,I))}b(Be,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Be})},3296:(e,t,r)=>{r(5806)},7208:(e,t,r)=>{var n=r(6518),i=r(9565);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var n={};return(()=>{r.r(n),r.d(n,{RewWid:()=>we}),r(2953);var e=r(4623);r(4423),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.includes||(Array.prototype.includes=function(e,t){var r=parseInt(t)||0;return-1!==this.indexOf(e,r)});var t,i,a=r(2878),o=r(1605),s=r(1189),l=r(3089),c=r(6592),d=r(7429),u=r(1947);class g{log(e){console.log(e)}warn(e){console.warn(e)}error(e){console.error(e)}}class h{log(e){}warn(e){}error(e){}}class f{constructor(e){this._stateProvider=e}log(e){this._stateProvider.logMessages.push({logLevel:i.Information,message:e})}warn(e){this._stateProvider.logMessages.push({logLevel:i.Warning,message:e})}error(e){this._stateProvider.logMessages.push({logLevel:i.Error,message:e})}}!function(e){e.CreateLogger=function(e){switch(u.o.settings.env.name){case"DEV":return new g;case"INT":case"PROD":return new f(e);default:return new h}}}(t||(t={})),function(e){e.Error="Error",e.Warning="Warning",e.Information="Information"}(i||(i={}));class p extends l.T{constructor(e){super(e),this._logger=new h,this._logger=t.CreateLogger(this.getSingleton("StateProvider"))}log(e){this._logger.log(e)}warn(e){this._logger.warn(e)}error(e){this._logger.error(e)}}r(7495);var v,m=r(9054);!function(e){e.MapToTelemetryRequest=function(e,t,r){return{userId:e,partnerId:t,logMessages:[...r.logMessages],events:[...r.events].map((e=>Object.assign(Object.assign({},e),{eventData:e.eventData.toString()}))),counters:[...r.counters]}}}(v||(v={}));var y=r(4493);class w{constructor(t){this.balance=t,this._dataContentMappings={[e.bc.Medallion]:()=>this.toMedallionData()}}toData(e){return this._dataContentMappings[e]()}toMedallionData(){return{content:{balance:this.balance}}}static create(e){return new w(e.balance)}}var b=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class S extends l.T{constructor(){super(...arguments),this._stateProvider=this.getSingleton("StateProvider"),this._logger=this.getSingleton("Logger"),this._eventLogger=this.getSingleton("EventLogger"),this._apiRequestSampler=this.getSingleton("ApiRequestSampler")}getUserData(){return b(this,void 0,void 0,(function*(){const e=this._stateProvider.partnerClientSettings.userId.trim();if(!S.userIdRegex.test(e))return this._logger.warn("Unable to fetch widget data. Invalid UserId provided."),null;const t=Date.now();let r;try{r=yield fetch(m.H.WidgetData+"/"+e);const n=Date.now()-t;this._eventLogger.logPerformanceEvent(s.N.ApiRequestEvent,"FalconService.getUserData",n)}catch(e){this._logger.error("[FalconService] [getUserData] Get widget data request failed. Error: "+c.h.SerializeError(e));const r=Date.now()-t;return this._eventLogger.logPerformanceEvent(s.N.ApiRequestEvent,"FalconService.getUserData",r),null}if(!r.ok)return this._logger.error("[FalconService] [getUserData] Failed to fetch widget data."),null;const n=yield r.json();return w.create(n)}))}reportActivity(){return b(this,void 0,void 0,(function*(){const e=this._stateProvider.partnerClientSettings.userId.trim();if(!S.userIdRegex.test(e))return this._logger.warn("Unable to fetch widget data. Invalid UserId provided."),null;const t=Date.now(),r=m.H.ReportActivity+"/"+e;let n;try{n=yield fetch(r);const e=Date.now()-t;this._eventLogger.logPerformanceEvent(s.N.ApiRequestEvent,"FalconService.ReportActivity",e)}catch(e){this._logger.error("[FalconService] [ReportActivity] Report activity request failed. Error: "+c.h.SerializeError(e));const r=Date.now()-t;return this._eventLogger.logPerformanceEvent(s.N.ApiRequestEvent,"FalconService.ReportActivity",r),null}if(!n.ok)return this._logger.error("[FalconService] [ReportActivity] Report activity responded with invalid status code. Status text: "+n.statusText),null;const i=yield n.json();return y.e.create(i)}))}sendTelemetry(){if(0===this._stateProvider.logMessages.length&&0===this._stateProvider.events.length&&0===this._stateProvider.counters.length)return;const e=this._stateProvider.partnerClientSettings.userId,t=this._stateProvider.partnerClientSettings.partnerId,r=v.MapToTelemetryRequest(e,t,this._stateProvider);if(this._apiRequestSampler.shouldSendTelemetryRequest(r)){this._stateProvider.clearTelemetry();try{fetch(m.H.Telemetry,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>{e.ok||this._logger.error("[FalconService] [Log] Report activity responded with invalid status code. Status text: "+e.statusText)})).catch((e=>{this._logger.error("[FalconService] [Log] Report activity request failed. Error: "+c.h.SerializeError(e))}))}catch(e){}}}}S.userIdRegex=/^[a-fA-F0-9]{32}$/;class _ extends l.T{constructor(){super(...arguments),this._logger=this.getSingleton("Logger"),this._stateProvider=this.getSingleton("StateProvider")}mergeGlobalSettings(e){return this.mergeSettings(this._stateProvider.partnerClientSettings,e,this._stateProvider.defaultPartnerClientSettings)}mergeWidgetData(e,t,r){if("object"!=typeof t)return!1;let n=!1;return void 0!==t.theme&&(n=this.mergeValue(e,"theme",t.theme,r.theme)||n),t.content&&(n=this.mergeSettings(e.content,t.content,r.content)||n),n}mergeSettings(e,t,r){if("object"!=typeof t)return!1;let n=!1;for(const i in t)i in r?n=this.mergeValue(e,i,t[i],r[i])||n:this._logger.warn("Unknown setting "+i);return n}mergeValue(e,t,r,n){const i=typeof r,a=typeof n;return void 0!==r&&(null===r?(e[t]=n,!0):"undefined"!==a&&i!==a?(this._logger.warn("Invalid type for setting "+String(t)+". Expected "+a+", got "+i),!1):(e[t]=r,!0))}}var A,C,x,E,P=r(8781),I=r(1296);!function(e){const t=(e,t)=>e.getAttribute(t)||void 0,r={[a.c.Attributes.DataUserId]:e=>t(e,a.c.Attributes.DataUserId),[a.c.Attributes.DataPartnerId]:e=>t(e,a.c.Attributes.DataPartnerId),[a.c.Attributes.DataTimezone]:e=>t(e,a.c.Attributes.DataTimezone),[a.c.Attributes.DataDarkMode]:e=>t(e,a.c.Attributes.DataDarkMode),[a.c.Attributes.DataReportActivity]:e=>t(e,a.c.Attributes.DataReportActivity),[a.c.Attributes.DataLocale]:e=>t(e,a.c.Attributes.DataLocale),[a.c.Attributes.DataIdSelectors]:e=>t(e,a.c.Attributes.DataIdSelectors)};e.LoadScriptConfig=function(e){var t;const i={},o=(s=a.c.Id,document.getElementById(s));var s;if(!o)return e.error("Could not find script element"),i;const l=r[a.c.Attributes.DataPartnerId](o),c=r[a.c.Attributes.DataUserId](o),d=r[a.c.Attributes.DataLocale](o),u=r[a.c.Attributes.DataTimezone](o),g=r[a.c.Attributes.DataIdSelectors](o),h=r[a.c.Attributes.DataDarkMode](o),f=r[a.c.Attributes.DataReportActivity](o);return i.partnerId=n(l,I.VR,e),i.userId=n(c,I.$l),i.locale=n(d,I.$l),i.timezoneUTC=n(u,I.vK),i.widgetsIdSelectors=null===(t=n(g,I.$l))||void 0===t?void 0:t.split(","),i.darkModeEnabled=n(h,I.yG),i.reportActivity=n(f,I.yG),i};const n=function(e,t){const r=t(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0);if(null!==r)return r}}(A||(A={})),function(e){e.MapFromReportActivitySnrResponse=function(e){var t,r,n,i,a;return{balance:e.RewardsSessionData.Balance,animationAltText:e.AnimationAltText,autoOpenFlyout:e.AutoOpenFlyout,autoOpenFlyoutFlag:null!==(t=e.RewardsSessionData.AutoOpenFlyoutFlag)&&void 0!==t&&t,dailyCheckInProgress:null!==(r=e.RewardsSessionData.DailyCheckInProgress)&&void 0!==r?r:0,goalTrackBalance:null!==(i=null===(n=e.RewardsSessionData)||void 0===n?void 0:n.GoalTrackBalance)&&void 0!==i?i:void 0,isDailyCheckInMedallionAnimationEnabled:e.IsDailyCheckInMedallionAnimationEnabled,isRewardsEntryPointEnabled:e.IsRewardsEntryPointEnabled,isRewardsEntryPointToggleEnabled:e.IsRewardsEntryPointToggleEnabled,lastAutoOpenFlyoutTime:e.RewardsSessionData.LastAutoOpenFlyoutTime,lastVisitTime:e.RewardsSessionData.LastVisitTime,previousBalance:null!==(a=e.RewardsSessionData.PreviousBalance)&&void 0!==a?a:void 0,showAnimation:e.RewardsSessionData.ShowAnimation,animateHeader:e.AnimateHeader,isRewardsUser:e.RewardsSessionData.IsRewardUser}}}(C||(C={})),function(e){e.ReportActivityReady="rewardsWidgetReportActivityReady"}(x||(x={})),function(e){let t=!1;e.RegisterActions=function(e,r){o.n.IsBefore2020||t||(t=!0,window.addEventListener("message",(t=>{const n=t.data;if(!n||!Object.values(x).includes(n.action))return;const i=C.MapFromReportActivitySnrResponse(n.reportActivityModel),a={rewardsWidgetReportActivityReady:()=>function(e,t,r){r.reportActivity=t;const n=y.e.create(t).toPartialClientUpdate();e.update(n)}(r,i,e)};a[n.action]()})))}}(E||(E={}));var k=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class R extends l.T{constructor(){super(...arguments),this._stateProvider=this.getSingleton("StateProvider"),this._logger=this.getSingleton("Logger"),this._eventLogger=this.getSingleton("EventLogger"),this._counterLogger=this.getSingleton("CounterLogger"),this._widgetDataEnricher=this.getSingleton("WidgetDataEnricher"),this._configMerger=this.getSingleton("ConfigMerger")}init(e){return k(this,void 0,void 0,(function*(){const t=A.LoadScriptConfig(this._logger);this._configMerger.mergeGlobalSettings(t),E.RegisterActions(this._stateProvider,this),this._logger.log("Initializing widgets..."),"complete"===e.readyState||"interactive"===e.readyState?yield this.searchAndInitializeWidgets(e):e.addEventListener("DOMContentLoaded",(()=>{this.searchAndInitializeWidgets(e).catch((()=>{}))}))}))}update(e){if(!e||"object"!=typeof e)return;e.global&&this._configMerger.mergeGlobalSettings(e.global),this._logger.log("Updating widgets...");const t=this._stateProvider.widgets;for(let r=0;r<t.length;r++){const n=t[r],i=e[n.Name];void 0!==i&&n.update(i,!0)}}searchAndInitializeWidgets(e){return k(this,void 0,void 0,(function*(){const t=this._stateProvider.partnerClientSettings.widgetsIdSelectors;if(t&&t.length>0){for(const r of t){let t=null;t=e.getElementById(r),t&&this.initializeWidget(t)}return}const r=e.querySelectorAll("["+a.A.Attributes.DataRewardsWidget+"]"),n=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.initializeWidget(t);i&&!i.success&&n.push(i)}yield this.enrich(n)}))}initializeWidget(e){const t=Date.now(),r=e.getAttribute(a.A.Attributes.DataRewardsWidget);if(!this.validateWidgetName(r))return void this._logger.warn("No configuration found for the widget type: "+(null!=r?r:"_no_widget_type_"));const n=r,i=P.n.create(n,e,this.getServices()),o=i.init();this._stateProvider.widgets.push(i);const l=Date.now()-t;return this._logger.log("First Render: Widget "+n+" initialized in "+l.toString()+"ms"),this._eventLogger.logPerformanceEvent(s.N.WidgetShowEvent,n,l),this._counterLogger.logCounter(d.H.WidgetShowCounter,n),o}validateWidgetName(t){return t&&Object.prototype.hasOwnProperty.call(e.I6,t)}enrich(e){return k(this,void 0,void 0,(function*(){if(o.n.IsBefore2020||0===e.length)return;const t=Date.now(),r=yield this._widgetDataEnricher.enrichWidgetsData(e);if(r.length>0)for(let e=0;e<r.length;e++){const t=r[e],n="[Initializer] [Update] Failed to rerender widget. WidgetName: "+t.widget.Name,i="VariablesMissingInData: "+t.variablesMissingInData.join(", "),a="VariablesMissingInTemplate: "+t.variablesMissingInTemplate.join(", ");this._logger.error(n+" "+i+" "+a),this._counterLogger.logCounter(d.H.WidgetFailureCounter,t.widget.Name),this._eventLogger.logInfoEvent(s.z.WidgetFailureEvent,t.widget.Name,JSON.stringify(t))}const n=Date.now()-t;this._logger.log("Update: Widgets updated in "+n.toString()+"ms"),this._eventLogger.logPerformanceEvent(s.N.WidgetFetchDataEvent,"AllWidgets",n)}))}}class D{constructor(e,t){this.partnerId=e,this.widgetName=t,this.operationName=d.H.WidgetClickCounter}}class T{constructor(e,t){this.partnerId=e,this.widgetName=t,this.operationName=d.H.WidgetFailureCounter}}class M{constructor(e,t){this.partnerId=e,this.widgetName=t,this.operationName=d.H.WidgetFetchDataCounter}}class L{constructor(e,t){this.partnerId=e,this.widgetName=t,this.operationName=d.H.WidgetShowCounter}}class O extends l.T{constructor(e){super(e),this._counterDefinitions={[d.H.WidgetShowCounter]:e=>new L(this.partnerId,e),[d.H.WidgetFetchDataCounter]:e=>new M(this.partnerId,e),[d.H.WidgetClickCounter]:e=>new D(this.partnerId,e),[d.H.WidgetFailureCounter]:e=>new T(this.partnerId,e)},this._stateProvider=this.getSingleton("StateProvider")}get partnerId(){return this._stateProvider.partnerClientSettings.partnerId}logCounter(e,t){this._stateProvider.counters.push(this._counterDefinitions[e](t))}}class F{constructor(e,t,r,n){this.scenario=e,this.partnerId=t,this.userId=r,this.reportActivity=n,this.userAgent=o.n.UserAgent,this.currentURL=o.n.CurrentURL,this.timezone=o.n.Timezone}}class N extends F{constructor(e,t,r,n,i){super(e,t,r,n),this.scenario=e,this.partnerId=t,this.userId=r,this.reportActivity=n,this.operationName=s.N.ApiRequestEvent,this.eventData=parseInt(i.toFixed(0))}}class B extends F{constructor(e,t,r,n){super(e,t,r,n),this.scenario=e,this.partnerId=t,this.userId=r,this.reportActivity=n,this.operationName=s.z.WidgetClickEvent,this.eventData=""}}class U extends F{constructor(e,t,r,n,i){super(e,t,r,n),this.scenario=e,this.partnerId=t,this.userId=r,this.reportActivity=n,this.errorMessage=i,this.operationName=s.z.WidgetFailureEvent,this.eventData="",this.eventData=i}}class W extends F{constructor(e,t,r,n,i){super(e,t,r,n),this.scenario=e,this.partnerId=t,this.userId=r,this.reportActivity=n,this.operationName=s.N.WidgetFetchDataEvent,this.eventData=parseInt(i.toFixed(0))}}class z extends F{constructor(e,t,r,n,i){super(e,t,r,n),this.scenario=e,this.partnerId=t,this.userId=r,this.reportActivity=n,this.operationName=s.N.WidgetShowEvent,this.eventData=parseInt(i.toFixed(0))}}class j extends l.T{constructor(e){super(e),this._informationEventDefinitions={[s.z.WidgetClickEvent]:(e,t)=>new B(e,this.partnerId,this.userId,this.reportActivity),[s.z.WidgetFailureEvent]:(e,t)=>new U(e,this.partnerId,this.userId,this.reportActivity,t)},this._performanceEventDefinitions={[s.N.WidgetShowEvent]:(e,t)=>new z(e,this.partnerId,this.userId,this.reportActivity,t),[s.N.WidgetFetchDataEvent]:(e,t)=>new W(e,this.partnerId,this.userId,this.reportActivity,t),[s.N.ApiRequestEvent]:(e,t)=>new N(e,this.partnerId,this.userId,this.reportActivity,t)},this._stateProvider=this.getSingleton("StateProvider")}get userId(){return this._stateProvider.partnerClientSettings.userId}get partnerId(){return this._stateProvider.partnerClientSettings.partnerId}get reportActivity(){return this._stateProvider.partnerClientSettings.reportActivity}logInfoEvent(e,t,r){this._stateProvider.events.push(this._informationEventDefinitions[e](t,r))}logPerformanceEvent(e,t,r){this._stateProvider.events.push(this._performanceEventDefinitions[e](t,r))}}r(5440);class H{constructor(e,t,r){this.strings=[],this.parenthesisBlocks=[],this.data=e,this.missingVariables=new Set,this._logger=t,this._eventLogger=r}getMissingVariables(){return this.missingVariables}evaluateCondition(e){if(this.strings=[],this.parenthesisBlocks=[],"else"===e.type)return!0;let t=this.replaceStringPlaceholders(e.condition);t=this.replaceParenthesisPlaceholders(t);try{return this.evaluateOrs(t)}catch(e){return e instanceof Error?(this._logger.error("Failed to evaluate condition: "+e.message),this._eventLogger.logInfoEvent(s.z.WidgetFailureEvent,"TemplateEvaluator.EvaluateCondition",e.message)):(this._logger.error("An unexpected error occurred: "+JSON.stringify(e)),this._eventLogger.logInfoEvent(s.z.WidgetFailureEvent,"TemplateEvaluator.EvaluateCondition",JSON.stringify(e))),!1}}replaceStringPlaceholders(e){return e.replace(H.STRING_REGEX,((e,t,r)=>{const n=t||r;return this.strings.push(n),"__string_"+(this.strings.length-1).toString()+"__"}))}replaceParenthesisPlaceholders(e){let t=e.match(H.PARENTHESIS_REGEX);for(;t;)t=(e=e.replace(H.PARENTHESIS_REGEX,((e,t)=>(this.parenthesisBlocks.push(t),"__parenthesis_"+(this.parenthesisBlocks.length-1).toString()+"__")))).match(H.PARENTHESIS_REGEX);return e}evaluateOrs(e){const t=e.split(H.OR_REGEX);for(const e of t)if(this.evaluateAnds(e))return!0;return!1}evaluateAnds(e){const t=e.split(H.AND_REGEX);for(const e of t)if(!this.evaluateExpression(e))return!1;return!0}parseNestedVariable(e){const t=e.split(".");let r=this.data;for(const e of t){if(void 0===r[e])return;r=r[e]}return r}evaluateExpression(e){const t=e.split(H.EXPRESSION_EVALUATOR_REGEX).map((e=>e.trim()));if(1===t.length)return Boolean(this.parseOperand(t[0]));const[r,n,i]=t,a=this.parseOperand(r),o=this.parseOperand(i);switch(n){case"==":return a===o;case"!=":return a!==o;case"<=":return a<=o;case">=":return a>=o;case"<":return a<o;case">":return a>o;case"&&":return Boolean(a)&&Boolean(o);case"||":return Boolean(a)||Boolean(o);default:throw new Error("Unknown operator: "+n)}}parseOperand(e){const t=e.trim();if(t.startsWith("!"))return!this.parseOperand(t.substring(1));const r=t.match(H.PARENTHESIS_PLACEHOLDER_REGEX);if(r){const e=this.parenthesisBlocks[Number(r[1])];return this.evaluateOrs(e)}const n=t.match(H.STRING_PLACEHOLDER_REGEX);if(n)return this.strings[Number(n[1])];let i=t;switch(t.match(H.CONDITION_VARIABLE_REGEX)&&(i=H.CONDITION_RESERVED_NAMES.includes(t)?t:this.parseNestedVariable(t),void 0===i&&this.missingVariables.add(t)),i){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return;default:{const e=Number(i);return"string"!=typeof i||Number.isNaN(e)?i:e}}}}H.CONDITION_VARIABLE_REGEX=/^[A-z_][A-z0-9._]*$/,H.CONDITION_RESERVED_NAMES=["true","false","null","undefined"],H.EXPRESSION_EVALUATOR_REGEX=/(==|!=|<=|>=|<|>|&&|\|\|)/g,H.OR_REGEX=/\|\|/g,H.AND_REGEX=/&&/g,H.PARENTHESIS_PLACEHOLDER_REGEX=/__parenthesis_(\d+)__/,H.PARENTHESIS_REGEX=/\(([^()]+)\)/g,H.STRING_PLACEHOLDER_REGEX=/__string_(\d+)__/,H.STRING_REGEX=/"(.*?)"|'(.*?)'/g;const G=/\{\{#node (\d+)\}\}/g,q=/\{\{ *?#include *?([a-zA-Z0-9_.-]+) *?\}\}/g,V=/\{\{\s*(\w+(?:\.\w+)*)\s*\}\}/g;class Q extends l.T{constructor(){super(...arguments),this.templateCache=this.getSingleton("TemplateCache"),this._logger=this.getSingleton("Logger"),this._eventLogger=this.getSingleton("EventLogger")}render(e,t){const r=new H(t,this._logger,this._eventLogger),n=this.templateCache.getOrBuildTemplate(e);return{html:this.renderTemplate(n,r),missingVariables:Array.from(r.getMissingVariables())}}renderTemplate(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r=null!=r?r:e.rootNode;for(const n of r.branches){if(!t.evaluateCondition(n))continue;let r=n.content.replace(G,((r,n)=>{const i=e.nodes[Number(n)];return i?this.renderTemplate(e,t,i):(this._logger.error("Node with ID "+n+" does not exist."),"")}));return r=this.replaceVariables(r,t),this.renderIncludedTemplates(r,t)}return""}replaceVariables(e,t){return e.replace(V,((e,r)=>{const n=t.parseNestedVariable(r);return"string"!=typeof n&&"number"!=typeof n?(this._logger.warn(r+" is not a renderable value"),""):n.toString()}))}renderIncludedTemplates(e,t){return e.replace(q,((e,r)=>{const n=this.templateCache.getOrBuildTemplate(r);return this.renderTemplate(n,t)}))}}class X{static buildTemplate(e){const t=[];let r,n=0;for(;null!==(r=X.CONDITIONAL_NODE_REGEX.exec(e));){const i=r[1],a=[];let o;for(;null!==(o=X.CONDITIONAL_BRANCH_REGEX.exec(i));)a.push({type:o[1],condition:o[2],content:o[3]});const s={id:++n,branches:a};t[n]=s,e=e.replace(i,"{{#node "+n.toString()+"}}")}return{rootNode:{id:0,branches:[{type:"if",condition:"true",content:e}]},nodes:t}}}X.CONDITIONAL_NODE_REGEX=/[\s\S]*(\{\{#if [\s\S]+?\}\}[\s\S]*?\{\{\/if\}\})/,X.CONDITIONAL_BRANCH_REGEX=/\{\{#(if|elseif|else) *([\s\S]*?)\}\}((?:(?!\{\{(#else|\/if))[\s\S])*)/g;class $ extends l.T{constructor(){super(...arguments),this.templateProvider=this.getSingleton("TemplateProvider"),this.templates={}}getOrBuildTemplate(e){if(!(e in this.templates)||"LOCAL"===u.o.settings.env.name){const t=this.templateProvider.getTemplate(e);this.templates[e]=X.buildTemplate(t)}return this.templates[e]}}var K=r(9470);class J extends l.T{constructor(e){super(e),this._logger=this.getSingleton("Logger")}getTemplate(t){const r=e.zL[t];return r?K.X.DecodeBase64(r):(this._logger.warn("No template found with name: "+t),"")}}var Y=r(9519),Z=r(5638);class ee extends l.T{constructor(){super(...arguments),this.storageKey="rewwid",this._logger=this.getSingleton("Logger")}get localStore(){return this._localStore||(this._localStore=this.isLocalStorageAvailable(localStorage)?localStorage:sessionStorage),this._localStore}isLocalStorageAvailable(e){try{return e.setItem("rw_writekey","rw_writekey"),e.getItem("rw_readkey"),e.removeItem("rw_writekey"),!0}catch(e){return this._logger.error("Cannot access local storage. Error: "+c.h.SerializeError(e)),!1}}setItem(e,t){const r=this.read();r[e]=t,this.write(r)}getItem(e,t){const r=this.read();return e in r?t(r[e]):null}removeItem(e){const t=this.read();e in t&&(delete t[e],this.write(t))}clear(){this.localStore.removeItem(this.storageKey)}read(){let e="__no_data__";try{if(e=this.localStore.getItem(this.storageKey),e){const t=K.X.DecodeBase64Unicode(e);return JSON.parse(t)}}catch(t){const r="Error reading or parsing data from local storage. Data "+(null!=e?e:"")+".",n="Error: "+c.h.SerializeError(t);this._logger.error(r+n)}return{}}write(e){const t=Z.N.EncodeBase64(JSON.stringify(e));try{this.localStore.setItem(this.storageKey,t)}catch(e){this._logger.error("Error writing data to local storage. Data: "+t+". Error: "+c.h.SerializeError(e))}}}var te=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class re extends l.T{constructor(){super(...arguments),this._falconService=this.getSingleton("FalconService"),this._stateProvider=this.getSingleton("StateProvider"),this._logger=this.getSingleton("Logger"),this._eventLogger=this.getSingleton("EventLogger"),this._counterLogger=this.getSingleton("CounterLogger")}enrichWidgetsData(e){return te(this,void 0,void 0,(function*(){if(0===e.length)return e;let t;return t=yield this.tryUpdateDataWithReportActivity(e),t.length>0&&(t=yield this.tryUpdateDataWithWidgetData(e)),t}))}tryUpdateDataWithReportActivity(e){return te(this,void 0,void 0,(function*(){if(!this._stateProvider.partnerClientSettings.reportActivity||this._stateProvider.reportActivity)return e;const t=yield this._falconService.reportActivity();return t?(this._stateProvider.reportActivity=t,this.rerenderWidgets(e,t.toData.bind(t))):(this._logger.error("[WidgetDataEnricher] [reportActivity] Failed to report activity."),this._eventLogger.logInfoEvent(s.z.WidgetFailureEvent,"FalconService.ReportActivity","Failed to report activity."),e.map((e=>this._counterLogger.logCounter(d.H.WidgetFailureCounter,e.widget.Name))),e)}))}tryUpdateDataWithWidgetData(e){return te(this,void 0,void 0,(function*(){const t=yield this._falconService.getUserData();return t?this.rerenderWidgets(e,(e=>t.toData(e))):(this._logger.error("[WidgetDataEnricher] [fetchWidgetData] Failed to fetch widget data."),this._eventLogger.logInfoEvent(s.z.WidgetFailureEvent,"FalconService.getUserData","Failed to fetch widget data."),e.map((e=>this._counterLogger.logCounter(d.H.WidgetFailureCounter,e.widget.Name))),e)}))}rerenderWidgets(e,t){const r=[];for(let n=0;n<e.length;n++){const i=e[n];if(0===i.variablesMissingInData.length)continue;const a=Date.now(),o=t(i.widget.Name),l=i.widget.update(o);this._counterLogger.logCounter(d.H.WidgetFetchDataCounter,i.widget.Name);const c=Date.now()-a;this._logger.log("[WidgetDataEnricher] [rerenderWidgets] Widget "+i.widget.Name+" initialized in "+c.toString()+"ms"),this._eventLogger.logPerformanceEvent(s.N.WidgetFetchDataEvent,i.widget.Name,c),l.success||r.push(l)}return r}}const ne={TemplateProvider:J,TemplateCache:$,Renderer:Q,Initializer:R,FalconService:S,StateProvider:Y.v,Logger:p,EventLogger:j,CounterLogger:O,WidgetDataEnricher:re,ConfigMerger:_,LocalStore:ee,ApiRequestSampler:class{shouldSendTelemetryRequest(e){return!!e.events.some((e=>e.operationName===s.z.WidgetFailureEvent))||!!e.counters.some((e=>e.operationName===d.H.WidgetFailureCounter))||!!e.logMessages.some((e=>e.logLevel===i.Error))||Math.random()<=.125}}};var ie=r(5072),ae=r.n(ie),oe=r(7825),se=r.n(oe),le=r(7659),ce=r.n(le),de=r(5056),ue=r.n(de),ge=r(540),he=r.n(ge),fe=r(1113),pe=r.n(fe),ve=r(5590),me={};me.styleTagTransform=pe(),me.setAttributes=ue(),me.insert=ce().bind(null,"head"),me.domAPI=se(),me.insertStyleElement=he(),ae()(ve.A,me),ve.A&&ve.A.locals&&ve.A.locals;var ye=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const we=t=>ye(void 0,void 0,void 0,(function*(){const r=yield function(){return ye(this,void 0,void 0,(function*(){const r=new l.T(ne),n=r.getSingleton("Initializer"),i=r.getSingleton("StateProvider"),d=r.getSingleton("Logger"),u=r.getSingleton("EventLogger"),g=r.getSingleton("FalconService");function h(){return ye(this,void 0,void 0,(function*(){try{yield n.init(t),d.log("Rewards Widget successfully initialized!")}catch(e){d.error("Rewards Widget failed to initialize. Error: ".concat(c.h.SerializeError(e))),u.logInfoEvent(s.z.WidgetFailureEvent,"Initializer.Init",c.h.SerializeError(e))}g.sendTelemetry()}))}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.n.IsBefore2020){try{n.update(e),d.log("Rewards Widget successfully updated!")}catch(e){d.error("Rewards Widget failed to update. Error: ".concat(c.h.SerializeError(e))),u.logInfoEvent(s.z.WidgetFailureEvent,"Initializer.Update",c.h.SerializeError(e))}g.sendTelemetry()}}for(const t of Object.values(e.bc))yield e.Z3[t]();const p=t.getElementById(a.c.Id);return p&&"false"!==p.getAttribute("data-init")&&(yield h()),{init:h,update:f,toggleDarkModeEnabled:function(){i.partnerClientSettings.darkModeEnabled=!i.partnerClientSettings.darkModeEnabled,f()}}}))}();window.RewardsWidget=r}));we(document).catch((()=>{}))})(),n})()));